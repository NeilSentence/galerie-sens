{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nilss\\\\Desktop\\\\Projects\\\\galerie-sens\\\\src\\\\components\\\\menudrop.js\";\nimport React from \"react\";\nimport Matter from \"matter-js\";\nimport MenuLink from './menulink';\nimport Dummy from './dummies';\n\nclass Scene extends React.Component {\n  constructor(props) {\n    super(props); // TODO: eigentlich muss window state ein paar Stufen höher und ge-propt werden.\n\n    this.style = {\n      wrapper: {\n        display: \"block\",\n        top: 50,\n        height: 'calc(100% - 50px)',\n        width: '100vw',\n        position: 'fixed'\n      },\n      blocks: {},\n      menulink: {// TODO: hier kann man schön conditional logic als breakpoints fahren, abhängig von this.state.width /.height\n      }\n    };\n\n    this.update = () => {\n      this.setState({\n        height: window.innerHeight,\n        width: window.innerWidth\n      });\n    };\n\n    this.closeMenu = () => {\n      this.props.menudrop({\n        menuDrop: false\n      });\n    };\n\n    this.state = {\n      height: window.innerHeight,\n      width: window.innerWidth\n    };\n    window.addEventListener(\"resize\", this.update);\n  }\n\n  // TODO: improve click / drag behavior (esp. touch)\n  componentDidMount() {\n    const runCode = () => {\n      const Body = Matter.Body;\n      const listEls = document.querySelectorAll(\"#mjs-wrapper .menulink\");\n      const listDummies = document.querySelectorAll(\"#mjs-wrapper .dummies\");\n      const engine = Matter.Engine.create();\n      const stack1 = Matter.Composites.stack( // xx, yy, columns, rows, columnGap, rowGap, cb\n      0, 0, listEls.length, 1, 0, 0, (xx, yy, i) => {\n        const randomX = Math.floor(Math.random() * (this.state.width - 200) + 1);\n        const {\n          y,\n          width,\n          height\n        } = listEls[i].getBoundingClientRect();\n        const box = Matter.Bodies.rectangle(randomX, -this.state.height + 200, width, height, {//isStatic: i === 0 || i + 1 === listEls.length\n        });\n\n        const randomAngularV = () => Math.random() > 0.5 ? 1 : -1; //Body.setAngularVelocity( box, Math.PI/1000*randomAngularV());\n\n\n        return box;\n      });\n      let stack2 = [];\n\n      if (listDummies.length !== 0) {\n        stack2 = Matter.Composites.stack( // xx, yy, columns, rows, columnGap, rowGap, cb\n        0, 0, listDummies.length, 1, 0, 0, (xx, yy, i) => {\n          const randomX = Math.floor(Math.random() * (this.state.width - 200) + 1);\n          const {\n            y,\n            width,\n            height\n          } = listDummies[i].getBoundingClientRect();\n          const box = Matter.Bodies.rectangle(randomX, -this.state.height + 200, width, height, {//isStatic: i === 0 || i + 1 === listDummies.length\n          });\n\n          const randomAngularV = () => Math.random() > 0.5 ? 1 : -1; //Body.setAngularVelocity( box, Math.PI/6*randomAngularV());\n\n\n          return box;\n        });\n      }\n\n      const wallThickness = 100;\n      const wallHeight = this.state.height * 2;\n      const wallY = 0;\n      const floor = Matter.Bodies.rectangle(this.state.width / 2, this.state.height - 50, this.state.width, 100);\n      const wallR = Matter.Bodies.rectangle(this.state.width + 50, wallY, wallThickness, wallHeight);\n      const wallL = Matter.Bodies.rectangle(-50, wallY, wallThickness, wallHeight);\n      const ceil = Matter.Bodies.rectangle(this.state.width / 2, -this.state.height - 50, this.state.width, 100);\n      Body.setStatic(floor, true);\n      Body.setStatic(wallR, true);\n      Body.setStatic(wallL, true);\n      Body.setStatic(ceil, true);\n      const mouseConstraint = Matter.MouseConstraint.create(engine, {\n        element: document.querySelector(\"#mjs-wrapper\")\n      });\n      Matter.World.add(engine.world, [stack1, stack2, mouseConstraint, floor, wallL, wallR, ceil]);\n      listEls.forEach(e => {\n        e.style.position = \"absolute\";\n        e.addEventListener(\"click\", e => {\n          console.log(e.target.textContent);\n        });\n      });\n\n      (function update() {\n        requestAnimationFrame(update);\n        stack1.bodies.forEach((block, i) => {\n          const li = listEls[i];\n          const {\n            x,\n            y\n          } = block.vertices[0];\n          li.style.top = `${y}px`;\n          li.style.left = `${x}px`;\n          li.style.transform = `translate(-50%, -50%) \n\t\t\t                             rotate(${block.angle}rad) \n\t\t\t                             translate(50%, 50%)`;\n        });\n        stack2.bodies.forEach((block, i) => {\n          const li = listDummies[i];\n          const {\n            x,\n            y\n          } = block.vertices[0];\n          li.style.top = `${y}px`;\n          li.style.left = `${x}px`;\n          li.style.transform = `translate(-50%, -50%) \n\t\t\t                             rotate(${block.angle}rad) \n\t\t\t                             translate(50%, 50%)`;\n        });\n        Matter.Engine.update(engine);\n      })();\n    };\n\n    runCode();\n    this.update();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"mjs-wrapper\",\n      style: this.style.wrapper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(Dummy, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(Dummy, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(Dummy, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(Dummy, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(MenuLink, {\n      imgUrl: \"IMG/aquarell.jpg\",\n      href: \"/\",\n      titel: \"Aquarelle\",\n      beschreibung: \"Experimente mit Wasser und Farbe\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 8\n      }\n    }), /*#__PURE__*/React.createElement(MenuLink, {\n      imgUrl: \"IMG/objekt.png\",\n      href: \"/login\",\n      titel: \"Objekte\",\n      beschreibung: \"Recyceltes aus dem fr\\xFChen Industriezeitalter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 8\n      }\n    }), /*#__PURE__*/React.createElement(Dummy, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 8\n      }\n    }), /*#__PURE__*/React.createElement(Dummy, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(MenuLink, {\n      imgUrl: \"\",\n      href: \"/artist\",\n      titel: \"K\\xFCnstlerprofil\",\n      beschreibung: \"Informationen \\xFCber die K\\xFCnstlerin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 8\n      }\n    }));\n  }\n\n}\n\nexport default Scene;","map":{"version":3,"sources":["C:/Users/nilss/Desktop/Projects/galerie-sens/src/components/menudrop.js"],"names":["React","Matter","MenuLink","Dummy","Scene","Component","constructor","props","style","wrapper","display","top","height","width","position","blocks","menulink","update","setState","window","innerHeight","innerWidth","closeMenu","menudrop","menuDrop","state","addEventListener","componentDidMount","runCode","Body","listEls","document","querySelectorAll","listDummies","engine","Engine","create","stack1","Composites","stack","length","xx","yy","i","randomX","Math","floor","random","y","getBoundingClientRect","box","Bodies","rectangle","randomAngularV","stack2","wallThickness","wallHeight","wallY","wallR","wallL","ceil","setStatic","mouseConstraint","MouseConstraint","element","querySelector","World","add","world","forEach","e","console","log","target","textContent","requestAnimationFrame","bodies","block","li","x","vertices","left","transform","angle","render"],"mappings":"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","sourcesContent":["import React from \"react\"\r\nimport Matter from \"matter-js\"\r\nimport MenuLink from './menulink'\r\nimport Dummy from './dummies'\r\n\r\nclass Scene extends React.Component {\r\n\t\r\n\tconstructor(props){\r\n\t\tsuper(props)\r\n\t\t// TODO: eigentlich muss window state ein paar Stufen höher und ge-propt werden.\r\n\t\tthis.state = {\r\n\t      \theight: window.innerHeight,\r\n\t      \twidth: window.innerWidth,\r\n\t    }\r\n\t    window.addEventListener(\"resize\", this.update)\r\n\t}\r\n\r\n\tstyle = {\r\n\t    wrapper: {\r\n\t      display: \"block\",\r\n\t      top:        50,\r\n\t      height:     'calc(100% - 50px)',\r\n\t      width:      '100vw',\r\n\t      position:   'fixed'\r\n\t    },\r\n\t    blocks: {},\r\n\t    menulink: {\r\n\t    \t// TODO: hier kann man schön conditional logic als breakpoints fahren, abhängig von this.state.width /.height\r\n\t    } \r\n  \t}\r\n\r\n  \t// TODO: improve click / drag behavior (esp. touch)\r\n\r\n  \tcomponentDidMount(){\r\n\r\n\t  \tconst runCode = () => {\r\n\r\n\t  \t\tconst Body = Matter.Body\r\n\t\t\tconst listEls = document.querySelectorAll(\"#mjs-wrapper .menulink\")\r\n\t\t\tconst listDummies = document.querySelectorAll(\"#mjs-wrapper .dummies\")\r\n\t\t\t\r\n\t\t\tconst engine = Matter.Engine.create()\r\n\t\t\t\r\n\t\t\tconst stack1 = Matter.Composites.stack(\r\n\t\t  \t\t// xx, yy, columns, rows, columnGap, rowGap, cb\r\n\t\t  \t\t0, 0, listEls.length, 1, 0, 0,\r\n\t\t  \t\t(xx, yy, i) => {\r\n\t\t  \t\t\tconst randomX = Math.floor((Math.random() * (this.state.width-200)) + 1)\r\n\t\t    \t\tconst {y, width, height} = listEls[i].getBoundingClientRect();\r\n\t\t    \t\tconst box = Matter.Bodies.rectangle(randomX, -this.state.height+200, width, height, {\r\n\t\t      \t\t\t//isStatic: i === 0 || i + 1 === listEls.length\r\n\t\t    \t\t})\r\n\t\t    \t\tconst randomAngularV = () => (Math.random()>0.5)? 1 : -1;\r\n\t\t    \t\t//Body.setAngularVelocity( box, Math.PI/1000*randomAngularV());\r\n\t\t    \t\treturn box\r\n\t\t    \t}\r\n\t\t    )\r\n\t\t    let stack2 = []\r\n\r\n\t\t\tif (listDummies.length !== 0) \r\n\t\t\t{\r\n\t\t\t\tstack2 = Matter.Composites.stack(\r\n\t\t\t  \t\t// xx, yy, columns, rows, columnGap, rowGap, cb\r\n\t\t\t  \t\t0, 0, listDummies.length, 1, 0, 0,\r\n\t\t\t  \t\t(xx, yy, i) => {\r\n\t\t\t  \t\t\tconst randomX = Math.floor((Math.random() * (this.state.width-200)) + 1)\r\n\t\t\t    \t\tconst {y, width, height} = listDummies[i].getBoundingClientRect();\r\n\t\t\t    \t\tconst box = Matter.Bodies.rectangle(randomX, -this.state.height+200, width, height, {\r\n\t\t\t      \t\t\t//isStatic: i === 0 || i + 1 === listDummies.length\r\n\t\t\t    \t\t})\r\n\t\t\t    \t\tconst randomAngularV = () => (Math.random()>0.5)? 1 : -1;\r\n\t\t\t    \t\t//Body.setAngularVelocity( box, Math.PI/6*randomAngularV());\r\n\t\t\t    \t\treturn box\r\n\t\t\t    \t}\r\n\t\t    \t)\r\n\t\t\t}\r\n\t\t    \r\n\r\n\t\t    const wallThickness = 100\r\n\t\t\tconst wallHeight = this.state.height*2\r\n\t\t\tconst wallY = 0\r\n\r\n\t\t    const floor = Matter.Bodies.rectangle(this.state.width/2,this.state.height-50,this.state.width,100)\r\n\t\t    const wallR = Matter.Bodies.rectangle(this.state.width+50,wallY,wallThickness,wallHeight)\r\n\t\t    const wallL = Matter.Bodies.rectangle(-50,wallY,wallThickness,wallHeight)\r\n\t\t    const ceil  = Matter.Bodies.rectangle(this.state.width/2,-this.state.height-50,this.state.width,100)\r\n\t\t    Body.setStatic(floor, true)\r\n\t\t    Body.setStatic(wallR, true)\r\n\t\t    Body.setStatic(wallL, true)\r\n\t\t    Body.setStatic(ceil,  true)\r\n\r\n\t\t\tconst mouseConstraint = Matter.MouseConstraint.create(\r\n\t  \t\t\tengine, {element: document.querySelector(\"#mjs-wrapper\")}\r\n\t\t\t)\r\n\r\n\r\n\t\t\tMatter.World.add(engine.world, [stack1, stack2, mouseConstraint, floor, wallL, wallR, ceil])\r\n\t\t\tlistEls.forEach(e => {\r\n\t\t  \t\te.style.position = \"absolute\";\r\n\t\t  \t\te.addEventListener(\"click\", e => {\r\n\t\t    \t\tconsole.log(e.target.textContent)\r\n\t\t    \t})\r\n\t\t\t});\r\n\r\n\t\t\t(function update() {\r\n\t\t  \t\trequestAnimationFrame(update)\r\n\t\t\t  \tstack1.bodies.forEach((block, i) => {\r\n\t\t\t\t    const li = listEls[i]\r\n\t\t\t\t    const {x, y} = block.vertices[0]\r\n\t\t\t\t    li.style.top = `${y}px`\r\n\t\t\t\t    li.style.left = `${x}px`\r\n\t\t\t\t    li.style.transform = `translate(-50%, -50%) \r\n\t\t\t                             rotate(${block.angle}rad) \r\n\t\t\t                             translate(50%, 50%)`\r\n\t\t\t\t});\r\n\t\t\t\tstack2.bodies.forEach((block, i) => {\r\n\t\t\t\t    const li = listDummies[i]\r\n\t\t\t\t    const {x, y} = block.vertices[0]\r\n\t\t\t\t    li.style.top = `${y}px`\r\n\t\t\t\t    li.style.left = `${x}px`\r\n\t\t\t\t    li.style.transform = `translate(-50%, -50%) \r\n\t\t\t                             rotate(${block.angle}rad) \r\n\t\t\t                             translate(50%, 50%)`\r\n\t\t\t\t});\r\n\t  \t\t\tMatter.Engine.update(engine)\r\n\t\t\t})();\r\n\t\t}\r\n  \t\r\n\t\trunCode()\r\n\t\tthis.update()\r\n\t}\r\n\r\n\tupdate = () => {\r\n    \tthis.setState({\r\n\t      \theight: window.innerHeight,\r\n\t      \twidth: window.innerWidth\r\n    \t})\r\n   \t}\r\n   \t\r\n   \tcloseMenu = () => {\r\n   \t\tthis.props.menudrop({menuDrop:false}) \r\n   \t}\r\n\t\r\n\trender(){\r\n\t  \treturn (\r\n\t\t\t<div id=\"mjs-wrapper\" style={this.style.wrapper}>\r\n\t\t\t\t<Dummy/>\r\n\t\t\t\t<Dummy/>\r\n\t\t\t\t<Dummy/>\r\n\t\t\t\t<Dummy/>\r\n\t\t\t    <MenuLink imgUrl=\"IMG/aquarell.jpg\" href={\"/\"} titel=\"Aquarelle\" beschreibung=\"Experimente mit Wasser und Farbe\" />\r\n\t\t\t    <MenuLink imgUrl=\"IMG/objekt.png\" href={\"/login\"} titel=\"Objekte\" beschreibung=\"Recyceltes aus dem frühen Industriezeitalter\" />\r\n\t\t\t    <Dummy/>\r\n\t\t\t\t<Dummy/>\r\n\t\t\t    <MenuLink imgUrl=\"\" href={\"/artist\"} titel=\"Künstlerprofil\" beschreibung=\"Informationen über die Künstlerin\" />\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\nexport default Scene"]},"metadata":{},"sourceType":"module"}