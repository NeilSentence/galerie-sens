{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nilss\\\\Desktop\\\\Projects\\\\galerie-sens\\\\src\\\\components\\\\menudrop.js\";\nimport React from \"react\";\nimport Matter from \"matter-js\";\nimport Dummy from './dummies';\n/*\r\n\tset menu display state to false:\r\n\tthis.props.toggle({menuDrop:false})\r\n\r\n\tget current state:\r\n\tthis.props.state()\r\n*/\n\nclass Scene extends React.Component {\n  constructor(props) {\n    super(props); // TODO: eigentlich muss window state ein paar Stufen höher und ge-propt werden.\n\n    this.style = {\n      wrapper: {\n        display: \"block\",\n        top: 50,\n        height: 'calc(100% - 50px)',\n        width: '100vw',\n        position: 'fixed',\n        background: 'rgba(255,255,255,0.88)'\n      },\n      blocks: {},\n      menulink: {// TODO: hier kann man schön conditional logic als breakpoints fahren, abhängig von this.state.width /.height\n      }\n    };\n\n    this.updateDimensions = () => {\n      this.setState({\n        height: window.innerHeight,\n        width: window.innerWidth\n      });\n    };\n\n    this.state = {\n      height: window.innerHeight,\n      width: window.innerWidth\n    };\n    window.addEventListener(\"resize\", this.updateDimensions);\n  }\n\n  componentDidMount() {\n    const runCode = () => {\n      const Body = Matter.Body;\n      const fallables = document.querySelectorAll(\".fallable\");\n      const delayed_fallables = document.querySelectorAll(\".delayed-fallable\");\n      const super_delayed_fallables = document.querySelectorAll(\".super-delayed-fallable\"); // switch var for left / right side image drop:\n      // let xPosSwitch = true\n\n      const engine = Matter.Engine.create({\n        positionIterations: 2\n      });\n      const menulinks = Matter.Composites.stack( // xx, yy, columns, rows, columnGap, rowGap, cb\n      0, 0, fallables.length, 1, 0, 0, (xx, yy, i) => {\n        const {\n          width,\n          height\n        } = fallables[i].getBoundingClientRect();\n        const xPos = Math.floor(Math.random() * (this.state.width - 200) + 1);\n        const yPos = -this.state.height + 200;\n        const box = Matter.Bodies.rectangle(xPos, yPos, width, height, {//isStatic: i === 0 || i + 1 === fallables.length\n        });\n\n        const randomAngularV = () => Math.random() > 0.5 ? 1 : -1;\n\n        Body.setAngularVelocity(box, Math.PI / 500 * randomAngularV());\n        return box;\n      }); // console.log(typeof menulinks) 'object'\n\n      const wallThickness = 100;\n      const wallHeight = this.state.height * 2;\n      const wallY = 0;\n      const floor = Matter.Bodies.rectangle(this.state.width / 2, this.state.height - 50, this.state.width, 100);\n      const wallR = Matter.Bodies.rectangle(this.state.width + 50, wallY, wallThickness, wallHeight);\n      const wallL = Matter.Bodies.rectangle(-50, wallY, wallThickness, wallHeight);\n      const ceil = Matter.Bodies.rectangle(this.state.width / 2, -this.state.height - 50, this.state.width, 100);\n      Body.setStatic(floor, true);\n      Body.setStatic(wallR, true);\n      Body.setStatic(wallL, true);\n      Body.setStatic(ceil, true);\n      const mouseConstraint = Matter.MouseConstraint.create(engine, {\n        element: document.querySelector(\"#mjs-wrapper\")\n      });\n      Matter.World.add(engine.world, [menulinks, mouseConstraint, floor, wallL, wallR, ceil]);\n      let htmlblocks,\n          colorblocks = false;\n\n      const addStuff = () => {\n        htmlblocks = Matter.Composites.stack(0, 0, delayed_fallables.length, 1, 0, 0, (xx, yy, i) => {\n          const {\n            x,\n            y,\n            width,\n            height\n          } = delayed_fallables[i].getBoundingClientRect();\n          let xPos, yPos;\n          xPos = x;\n          yPos = y;\n          const box = Matter.Bodies.rectangle(xPos, yPos, width, height, {});\n\n          const randomAngularV = () => Math.random() > 0.5 ? 1 : -1;\n\n          Body.setAngularVelocity(box, Math.PI / 1000 * randomAngularV());\n          return box;\n        });\n        Matter.World.add(engine.world, [htmlblocks]);\n        delayed_fallables.forEach(e => {\n          e.style.position = \"absolute\";\n        });\n      };\n\n      const addMoreStuff = () => {\n        colorblocks = Matter.Composites.stack(0, 0, super_delayed_fallables.length, 1, 0, 0, (xx, yy, i) => {\n          const {\n            width,\n            height\n          } = super_delayed_fallables[i].getBoundingClientRect();\n          const xPos = Math.floor(Math.random() * (this.state.width - 200) + 1);\n          const yPos = -this.state.height + 200;\n          const box = Matter.Bodies.rectangle(xPos, yPos, width, height, {});\n\n          const randomAngularV = () => Math.random() > 0.5 ? 1 : -1;\n\n          Body.setAngularVelocity(box, Math.PI / 5 * randomAngularV());\n          return box;\n        });\n        Matter.World.add(engine.world, [colorblocks]);\n        super_delayed_fallables.forEach(e => {\n          e.style.position = \"absolute\";\n        });\n      };\n\n      const removeStuff = wovon => {\n        // this.props.toggle({menuDrop:false})\n        const removeHTMLfromWorld = this.props.stateRemoveNonMenu;\n        if (removeHTMLfromWorld === true) Matter.Composite.clear(wovon, false);\n      };\n\n      setTimeout(addStuff, 2000);\n      setTimeout(addMoreStuff, 3200);\n      let origMouseX, origMouseY;\n      let mouseHasMoved = false;\n      fallables.forEach(el => {\n        el.style.position = \"absolute\";\n        el.addEventListener(\"mousedown\", e => {\n          // hier soll dann etwas passieren. Es gibt aber schon den \"navigate to href\" Event Listener im Menulink Component\n          // man könnte noch irgendeinen Effekt der bei allen fallables passiert hier anbringen.\n          // TODO: get mouse position and navigate only when it hasn't changed much.\n          const recordOrigMousePos = () => {\n            const event = window.event;\n            origMouseX = event.pageX;\n            origMouseY = event.pageY; // DEBUG: console.log(mouseHasMoved, origMouseX, origMouseY)\n          };\n\n          if (mouseHasMoved) recordOrigMousePos();\n        });\n        el.addEventListener(\"touchstart\", e => {\n          // hier soll dann etwas passieren. Es gibt aber schon den \"navigate to href\" Event Listener im Menulink Component\n          // man könnte noch irgendeinen Effekt der bei allen fallables passiert hier anbringen.\n          // TODO: get mouse position and navigate only when it hasn't changed much.\n          e.preventDefault();\n\n          const recordOrigMousePos = () => {\n            const event = window.event; // DEBUG: console.dir(event) // get touch event\n\n            origMouseX = event.changedTouches[0].pageX;\n            origMouseY = event.changedTouches[0].pageY; // DEBUG: console.log(mouseHasMoved, origMouseX, origMouseY)\n          };\n\n          if (mouseHasMoved) recordOrigMousePos();\n        });\n        el.addEventListener(\"mousemove\", e => {\n          mouseHasMoved = true;\n        });\n        el.addEventListener(\"touchmove\", e => {\n          e.preventDefault();\n          mouseHasMoved = true;\n        });\n        el.addEventListener(\"mouseup\", e => {\n          // hier soll dann etwas passieren. Es gibt aber schon den \"navigate to href\" Event Listener im Menulink Component\n          // man könnte noch irgendeinen Effekt der bei allen fallables passiert hier anbringen.\n          // TODO: get mouse position and navigate only when it hasn't changed much.\n          const event = window.event;\n          const newMouseX = event.pageX;\n          const newMouseY = event.pageY;\n\n          if (!(newMouseX > origMouseX + 5 || newMouseY > origMouseY + 5 || newMouseY < origMouseY - 5 || newMouseX < origMouseX - 5)) {\n            // DEBUG: alert(\"OPosX:\"+origMouseX+\" OPosX:\"+origMouseY+\" NPosX:\"+newMouseX+\" NPosX:\"+newMouseY)\n            // navigate to link target:\n            // hack: add class: \"navigatable\"\n            el.classList.add(\"clickable\"); // DEBUG: console.dir(el.classList)\n          }\n\n          mouseHasMoved = false;\n        });\n        el.addEventListener(\"touchend\", e => {\n          // hier soll dann etwas passieren. Es gibt aber schon den \"navigate to href\" Event Listener im Menulink Component\n          // man könnte noch irgendeinen Effekt der bei allen fallables passiert hier anbringen.\n          // TODO: get mouse position and navigate only when it hasn't changed much.\n          e.preventDefault();\n          const event = window.event;\n          const newMouseX = event.changedTouches[0].pageX;\n          const newMouseY = event.changedTouches[0].pageY;\n\n          if (!(newMouseX > origMouseX + 5 || newMouseY > origMouseY + 5 || newMouseY < origMouseY - 5 || newMouseX < origMouseX - 5)) {\n            // DEBUG: alert(\"OPosX:\"+origMouseX+\" OPosX:\"+origMouseY+\" NPosX:\"+newMouseX+\" NPosX:\"+newMouseY)\n            // navigate to link target:\n            // hack: add class: \"navigatable\"\n            el.classList.add(\"clickable\"); // DEBUG: console.dir(el.classList)\n          }\n\n          mouseHasMoved = false;\n        }); // TODO: garbage collect event listeners!\n      });\n\n      (function update() {\n        requestAnimationFrame(update);\n        menulinks.bodies.forEach((block, i) => {\n          const thisFallable = fallables[i];\n          /*\r\n          TODO: adjust size of object on updaste to adjust for changing text blocks:\r\n          const { width, height } = fallables[i].getBoundingClientRect();\r\n          */\n\n          const {\n            x,\n            y\n          } = block.vertices[0];\n          thisFallable.style.top = `${y}px`;\n          thisFallable.style.left = `${x}px`;\n          thisFallable.style.transform = `translate(-50%, -50%) \n\t\t\t                             rotate(${block.angle}rad) \n\t\t\t                             translate(50%, 50%)`;\n        });\n\n        if (typeof htmlblocks === 'object') {\n          removeStuff(htmlblocks);\n          htmlblocks.bodies.forEach((block, i) => {\n            const thisFallable = delayed_fallables[i];\n            const {\n              x,\n              y\n            } = block.vertices[0]; //console.log(y)\n\n            thisFallable.style.top = `${y}px`;\n            thisFallable.style.left = `${x}px`;\n            thisFallable.style.transform = `translate(-50%, -50%) \n\t\t\t\t                             rotate(${block.angle}rad) \n\t\t\t\t                             translate(50%, 50%)`;\n          });\n        }\n\n        if (typeof colorblocks === 'object') {\n          htmlblocks.bodies.forEach((block, i) => {\n            const thisFallable = super_delayed_fallables[i];\n            const {\n              x,\n              y\n            } = block.vertices[0]; //console.log(y)\n\n            thisFallable.style.top = `${y}px`;\n            thisFallable.style.left = `${x}px`;\n            thisFallable.style.transform = `translate(-50%, -50%) \n\t\t\t\t                             rotate(${block.angle}rad) \n\t\t\t\t                             translate(50%, 50%)`;\n          });\n        }\n\n        Matter.Engine.update(engine);\n      })();\n    };\n\n    runCode();\n    this.updateDimensions();\n  }\n\n  render() {\n    const Dummies = [];\n\n    for (let i = 0; i < this.props.numberOfDummies; i++) {\n      Dummies.push( /*#__PURE__*/React.createElement(Dummy, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 20\n        }\n      }));\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"mjs-wrapper\",\n      style: this.style.wrapper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 4\n      }\n    }, this.props.elements, Dummies);\n  }\n\n}\n\nexport default Scene;\n/*\r\n\r\n if(e.type == 'touchstart' || e.type == 'touchmove' || e.type == 'touchend' || e.type == 'touchcancel'){\r\n        var touch = e.originalEvent.touches[0] || e.originalEvent.changedTouches[0];\r\n        x = touch.pageX;\r\n        y = touch.pageY;\r\n    } else if (e.type == 'mousedown' || e.type == 'mouseup' || e.type == 'mousemove' || e.type == 'mouseover'|| e.type=='mouseout' || e.type=='mouseenter' || e.type=='mouseleave') {\r\n        x = e.clientX;\r\n        y = e.clientY;\r\n    }\r\n\r\n*/","map":{"version":3,"sources":["C:/Users/nilss/Desktop/Projects/galerie-sens/src/components/menudrop.js"],"names":["React","Matter","Dummy","Scene","Component","constructor","props","style","wrapper","display","top","height","width","position","background","blocks","menulink","updateDimensions","setState","window","innerHeight","innerWidth","state","addEventListener","componentDidMount","runCode","Body","fallables","document","querySelectorAll","delayed_fallables","super_delayed_fallables","engine","Engine","create","positionIterations","menulinks","Composites","stack","length","xx","yy","i","getBoundingClientRect","xPos","Math","floor","random","yPos","box","Bodies","rectangle","randomAngularV","setAngularVelocity","PI","wallThickness","wallHeight","wallY","wallR","wallL","ceil","setStatic","mouseConstraint","MouseConstraint","element","querySelector","World","add","world","htmlblocks","colorblocks","addStuff","x","y","forEach","e","addMoreStuff","removeStuff","wovon","removeHTMLfromWorld","stateRemoveNonMenu","Composite","clear","setTimeout","origMouseX","origMouseY","mouseHasMoved","el","recordOrigMousePos","event","pageX","pageY","preventDefault","changedTouches","newMouseX","newMouseY","classList","update","requestAnimationFrame","bodies","block","thisFallable","vertices","left","transform","angle","render","Dummies","numberOfDummies","push","elements"],"mappings":"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","sourcesContent":["import React from \"react\"\r\nimport Matter from \"matter-js\"\r\nimport Dummy from './dummies'\r\n\r\n\r\n/*\r\n\tset menu display state to false:\r\n\tthis.props.toggle({menuDrop:false})\r\n\r\n\tget current state:\r\n\tthis.props.state()\r\n*/\r\n\r\n\r\n\r\nclass Scene extends React.Component {\r\n\tconstructor(props){\r\n\t\tsuper(props)\r\n\t\t// TODO: eigentlich muss window state ein paar Stufen höher und ge-propt werden.\r\n\t\tthis.state = {\r\n\t      \theight: window.innerHeight,\r\n\t      \twidth: window.innerWidth,\r\n\t    }\r\n\t    window.addEventListener(\"resize\", this.updateDimensions)\r\n\t}\r\n\r\n\tstyle = {\r\n\t    wrapper: {\r\n\t      display: \"block\",\r\n\t      top:        50,\r\n\t      height:     'calc(100% - 50px)',\r\n\t      width:      '100vw',\r\n\t      position:   'fixed',\r\n\t      background: 'rgba(255,255,255,0.88)'\r\n\t    },\r\n\t    blocks: {},\r\n\t    menulink: {\r\n\t    \t// TODO: hier kann man schön conditional logic als breakpoints fahren, abhängig von this.state.width /.height\r\n\t    }\r\n  \t}\r\n\r\n  \tcomponentDidMount(){\r\n\r\n\t  \tconst runCode = () => {\r\n\t  \t\tconst Body = Matter.Body\r\n\t\t\tconst fallables = document.querySelectorAll(\".fallable\")\r\n\t\t\tconst delayed_fallables = document.querySelectorAll(\".delayed-fallable\")\r\n\t\t\tconst super_delayed_fallables = document.querySelectorAll(\".super-delayed-fallable\")\r\n\r\n\t\t\t// switch var for left / right side image drop:\r\n\t\t\t// let xPosSwitch = true\r\n\t\t\tconst engine = Matter.Engine.create({positionIterations: 2})\r\n\r\n\t\t\tconst menulinks = Matter.Composites.stack(\t\r\n\t\t  \t\t// xx, yy, columns, rows, columnGap, rowGap, cb\r\n\t\t  \t\t0, 0, fallables.length, 1, 0, 0,\r\n\t\t  \t\t(xx, yy, i) => {\r\n\t\t  \t\t\tconst { width, height } = fallables[i].getBoundingClientRect();\r\n\t\t  \t\t\tconst xPos = Math.floor((Math.random() * (this.state.width-200)) + 1)\r\n\t\t  \t\t\tconst yPos = -this.state.height+200\t\t\r\n\t\t    \t\tconst box = Matter.Bodies.rectangle(xPos, yPos, width, height, {\r\n\t\t      \t\t\t//isStatic: i === 0 || i + 1 === fallables.length\r\n\t\t    \t\t})\r\n\t\t    \t\tconst randomAngularV = () => (Math.random()>0.5)? 1 : -1;\r\n\t\t    \t\tBody.setAngularVelocity( box, Math.PI/500*randomAngularV())\r\n\t\t    \t\treturn box\r\n\t\t    \t}\r\n\t\t    )\t\r\n\r\n\t\t\t// console.log(typeof menulinks) 'object'\r\n\t\t    const wallThickness = 100\r\n\t\t\tconst wallHeight = this.state.height*2\r\n\t\t\tconst wallY = 0\r\n\t\t    const floor = Matter.Bodies.rectangle(this.state.width/2,this.state.height-50,this.state.width,100)\r\n\t\t    const wallR = Matter.Bodies.rectangle(this.state.width+50,wallY,wallThickness,wallHeight)\r\n\t\t    const wallL = Matter.Bodies.rectangle(-50,wallY,wallThickness,wallHeight)\r\n\t\t    const ceil  = Matter.Bodies.rectangle(this.state.width/2,-this.state.height-50,this.state.width,100)\r\n\t\t    Body.setStatic(floor, true)\r\n\t\t    Body.setStatic(wallR, true)\r\n\t\t    Body.setStatic(wallL, true)\r\n\t\t    Body.setStatic(ceil,  true)\r\n\r\n\t\t\tconst mouseConstraint = Matter.MouseConstraint.create(\r\n\t  \t\t\tengine, {element: document.querySelector(\"#mjs-wrapper\")}\r\n\t\t\t)\r\n\r\n\t\t\tMatter.World.add(engine.world, [menulinks, mouseConstraint, floor, wallL, wallR, ceil])\r\n\t\t\t\r\n\t\t\tlet htmlblocks, colorblocks = false\r\n\r\n\t\t\tconst addStuff = () => {\r\n\r\n\t\t\t\thtmlblocks = Matter.Composites.stack(\t\r\n\t\t\t  \t\t0, 0, delayed_fallables.length, 1, 0, 0,\r\n\t\t\t  \t\t(xx, yy, i) => {\r\n\t\t\t  \t\t\tconst {x, y, width, height} = delayed_fallables[i].getBoundingClientRect();\r\n\t\t\t  \t\t\tlet xPos, yPos\r\n\t\t\t  \t\t\txPos = x; yPos = y\r\n\t\t\t    \t\tconst box = Matter.Bodies.rectangle(xPos, yPos, width, height, {})\r\n\t\t\t    \t\tconst randomAngularV = () => (Math.random()>0.5)? 1 : -1;\r\n\t\t\t    \t\tBody.setAngularVelocity( box, Math.PI/1000*randomAngularV());\r\n\t\t\t    \t\treturn box\r\n\t\t\t    \t}\r\n\t\t    \t)\r\n\t\t\t\tMatter.World.add(engine.world,[htmlblocks])\r\n\r\n\t\t\t\tdelayed_fallables.forEach(e => {\r\n\t\t  \t\t\te.style.position = \"absolute\"\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tconst addMoreStuff = () => {\r\n\r\n\t\t\t\tcolorblocks = Matter.Composites.stack(\t\r\n\t\t\t  \t\t0, 0, super_delayed_fallables.length, 1, 0, 0,\r\n\t\t\t  \t\t(xx, yy, i) => {\r\n\t\t\t  \t\t\tconst { width, height } = super_delayed_fallables[i].getBoundingClientRect();\r\n\t\t\t  \t\t\tconst xPos = Math.floor((Math.random() * (this.state.width-200)) + 1)\r\n\t\t  \t\t\t\tconst yPos = -this.state.height+200\t\r\n\t\t\t    \t\tconst box = Matter.Bodies.rectangle(xPos, yPos, width, height, {})\r\n\t\t\t    \t\tconst randomAngularV = () => (Math.random()>0.5)? 1 : -1;\r\n\t\t\t    \t\tBody.setAngularVelocity( box, Math.PI/5*randomAngularV());\r\n\t\t\t    \t\treturn box\r\n\t\t\t    \t}\r\n\t\t    \t)\r\n\t\t\t\tMatter.World.add(engine.world,[colorblocks])\r\n\r\n\t\t\t\tsuper_delayed_fallables.forEach(e => {\r\n\t\t  \t\t\te.style.position = \"absolute\"\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\t\r\n\t\t\tconst removeStuff = wovon => {\r\n\t\t\t\t// this.props.toggle({menuDrop:false})\r\n\t\t\t\tconst removeHTMLfromWorld = this.props.stateRemoveNonMenu\r\n\t\t\t\tif (removeHTMLfromWorld === true) Matter.Composite.clear(wovon, false)\r\n\t\t\t}\r\n\t\t\tsetTimeout(addStuff, 2000);\r\n\t\t\tsetTimeout(addMoreStuff, 3200);\r\n\r\n\t\t\tlet origMouseX, origMouseY\r\n\t\t\tlet mouseHasMoved = false\r\n\r\n\t\t\tfallables.forEach(el => {\r\n\t\t\t\tel.style.position = \"absolute\";\r\n\t\t  \t\tel.addEventListener(\"mousedown\", e => {\r\n\t\t    \t\t// hier soll dann etwas passieren. Es gibt aber schon den \"navigate to href\" Event Listener im Menulink Component\r\n\t\t    \t\t// man könnte noch irgendeinen Effekt der bei allen fallables passiert hier anbringen.\r\n\t\t    \t\t// TODO: get mouse position and navigate only when it hasn't changed much.\r\n\t\t    \t\tconst recordOrigMousePos = () => {\r\n\t\t\t    \t\tconst event = window.event\r\n\t\t\t    \t\torigMouseX = event.pageX\r\n\t\t\t    \t\torigMouseY = event.pageY\r\n\t\t\t    \t\t// DEBUG: console.log(mouseHasMoved, origMouseX, origMouseY)\r\n\t\t    \t\t}\r\n\t\t    \t\tif (mouseHasMoved) recordOrigMousePos()\r\n\r\n\t\t    \t})\r\n\t\t    \tel.addEventListener(\"touchstart\", e => {\r\n\t\t    \t\t// hier soll dann etwas passieren. Es gibt aber schon den \"navigate to href\" Event Listener im Menulink Component\r\n\t\t    \t\t// man könnte noch irgendeinen Effekt der bei allen fallables passiert hier anbringen.\r\n\t\t    \t\t// TODO: get mouse position and navigate only when it hasn't changed much.\r\n\t\t    \t\te.preventDefault()\r\n\t\t    \t\tconst recordOrigMousePos = () => {\r\n\t\t\t    \t\tconst event = window.event\r\n\t\t\t    \t\t// DEBUG: console.dir(event) // get touch event\r\n\t\t\t    \t\torigMouseX = event.changedTouches[0].pageX\r\n\t\t\t    \t\torigMouseY = event.changedTouches[0].pageY\r\n\t\t\t    \t\t// DEBUG: console.log(mouseHasMoved, origMouseX, origMouseY)\r\n\t\t    \t\t}\r\n\t\t    \t\tif (mouseHasMoved) recordOrigMousePos()\r\n\r\n\t\t    \t})\r\n\t\t    \tel.addEventListener(\"mousemove\", e => {\r\n\t\t    \t\tmouseHasMoved = true\r\n\t\t    \t})\r\n\t\t    \tel.addEventListener(\"touchmove\", e => {\r\n\t\t    \t\te.preventDefault()\r\n\t\t    \t\tmouseHasMoved = true\r\n\t\t    \t})\r\n\t\t    \tel.addEventListener(\"mouseup\", e => {\r\n\t\t    \t\t// hier soll dann etwas passieren. Es gibt aber schon den \"navigate to href\" Event Listener im Menulink Component\r\n\t\t    \t\t// man könnte noch irgendeinen Effekt der bei allen fallables passiert hier anbringen.\r\n\t\t    \t\t// TODO: get mouse position and navigate only when it hasn't changed much.\r\n\t\t    \t\tconst event = window.event\r\n\t\t    \t\tconst newMouseX = event.pageX\r\n\t\t    \t\tconst newMouseY = event.pageY\r\n\t\t    \t\tif (!( (newMouseX > origMouseX+5) || (newMouseY > origMouseY+5) || (newMouseY < origMouseY-5) || (newMouseX < origMouseX-5) )) {\r\n\t\t    \t\t\t// DEBUG: alert(\"OPosX:\"+origMouseX+\" OPosX:\"+origMouseY+\" NPosX:\"+newMouseX+\" NPosX:\"+newMouseY)\r\n\t\t    \t\t\t// navigate to link target:\r\n\t\t    \t\t\t// hack: add class: \"navigatable\"\r\n\t\t    \t\t\tel.classList.add(\"clickable\")\r\n\t\t    \t\t\t// DEBUG: console.dir(el.classList)\r\n\t\t    \t\t}\r\n\t\t    \t\tmouseHasMoved = false\r\n\t\t    \t})\r\n\t\t    \tel.addEventListener(\"touchend\", e => {\r\n\t\t    \t\t// hier soll dann etwas passieren. Es gibt aber schon den \"navigate to href\" Event Listener im Menulink Component\r\n\t\t    \t\t// man könnte noch irgendeinen Effekt der bei allen fallables passiert hier anbringen.\r\n\t\t    \t\t// TODO: get mouse position and navigate only when it hasn't changed much.\r\n\t\t    \t\te.preventDefault()\r\n\t\t    \t\tconst event = window.event\r\n\t\t    \t\tconst newMouseX = event.changedTouches[0].pageX\r\n\t\t\t    \tconst newMouseY = event.changedTouches[0].pageY\r\n\t\t    \t\tif (!( (newMouseX > origMouseX+5) || (newMouseY > origMouseY+5) || (newMouseY < origMouseY-5) || (newMouseX < origMouseX-5) )) {\r\n\t\t    \t\t\t// DEBUG: alert(\"OPosX:\"+origMouseX+\" OPosX:\"+origMouseY+\" NPosX:\"+newMouseX+\" NPosX:\"+newMouseY)\r\n\t\t    \t\t\t// navigate to link target:\r\n\t\t    \t\t\t// hack: add class: \"navigatable\"\r\n\t\t    \t\t\tel.classList.add(\"clickable\")\r\n\t\t    \t\t\t// DEBUG: console.dir(el.classList)\r\n\t\t    \t\t}\r\n\t\t    \t\tmouseHasMoved = false\r\n\t\t    \t})\r\n\t\t    \t// TODO: garbage collect event listeners!\r\n\t\t\t});    \t\r\n\r\n\t\t\t(function update() {\r\n\t\t  \t\trequestAnimationFrame(update)\r\n\r\n\t\t\t  \tmenulinks.bodies.forEach((block, i) => {\r\n\t\t\t\t    const thisFallable = fallables[i]\r\n\r\n\t\t\t\t    /*\r\n\t\t\t\t    TODO: adjust size of object on updaste to adjust for changing text blocks:\r\n\t\t\t\t    const { width, height } = fallables[i].getBoundingClientRect();\r\n\t\t\t\t    */\r\n\t\t\t\t    \r\n\r\n\t\t\t\t    const {x, y} = block.vertices[0]\r\n\t\t\t\t    thisFallable.style.top = `${y}px`\r\n\t\t\t\t    thisFallable.style.left = `${x}px`\r\n\t\t\t\t    thisFallable.style.transform = `translate(-50%, -50%) \r\n\t\t\t                             rotate(${block.angle}rad) \r\n\t\t\t                             translate(50%, 50%)`\r\n\t\t\t\t});\r\n\t\t\t\tif (typeof htmlblocks === 'object') {\r\n\t\t\t\t\tremoveStuff(htmlblocks)\r\n\t\t\t\t\t\thtmlblocks.bodies.forEach((block, i) => {\r\n\t\t\t\t\t    const thisFallable = delayed_fallables[i]\r\n\t\t\t\t\t    const {x, y} = block.vertices[0]\r\n\t\t\t\t\t    //console.log(y)\r\n\t\t\t\t\t    thisFallable.style.top = `${y}px`\r\n\t\t\t\t\t    thisFallable.style.left = `${x}px`\r\n\t\t\t\t\t    thisFallable.style.transform = `translate(-50%, -50%) \r\n\t\t\t\t                             rotate(${block.angle}rad) \r\n\t\t\t\t                             translate(50%, 50%)`\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tif (typeof colorblocks === 'object') {\r\n\t\t\t\t\t\thtmlblocks.bodies.forEach((block, i) => {\r\n\t\t\t\t\t    const thisFallable = super_delayed_fallables[i]\r\n\t\t\t\t\t    const {x, y} = block.vertices[0]\r\n\t\t\t\t\t    //console.log(y)\r\n\t\t\t\t\t    thisFallable.style.top = `${y}px`\r\n\t\t\t\t\t    thisFallable.style.left = `${x}px`\r\n\t\t\t\t\t    thisFallable.style.transform = `translate(-50%, -50%) \r\n\t\t\t\t                             rotate(${block.angle}rad) \r\n\t\t\t\t                             translate(50%, 50%)`\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t  \t\t\tMatter.Engine.update(engine)\r\n\t\t\t})();\r\n\t\t}\r\n\t\trunCode()\r\n\t\tthis.updateDimensions()\r\n\t}\r\n\r\n\tupdateDimensions = () => {\r\n    \tthis.setState({\r\n\t      \theight: window.innerHeight,\r\n\t      \twidth: window.innerWidth\r\n    \t})\r\n   \t}\r\n   \t\r\n   \trender(){\r\n\t\tconst Dummies = []\r\n\t\tfor (let i=0; i < this.props.numberOfDummies; i++) {\r\n   \t\t\tDummies.push(<Dummy/>);\r\n\t\t} \r\n\t  \t\r\n\t  \treturn (\r\n\t\t\t<div id=\"mjs-wrapper\" style={this.style.wrapper}>\r\n\t\t\t\t{this.props.elements}\r\n\t\t\t\t{Dummies}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\nexport default Scene\r\n\r\n\r\n/*\r\n\r\n if(e.type == 'touchstart' || e.type == 'touchmove' || e.type == 'touchend' || e.type == 'touchcancel'){\r\n        var touch = e.originalEvent.touches[0] || e.originalEvent.changedTouches[0];\r\n        x = touch.pageX;\r\n        y = touch.pageY;\r\n    } else if (e.type == 'mousedown' || e.type == 'mouseup' || e.type == 'mousemove' || e.type == 'mouseover'|| e.type=='mouseout' || e.type=='mouseenter' || e.type=='mouseleave') {\r\n        x = e.clientX;\r\n        y = e.clientY;\r\n    }\r\n\r\n*/"]},"metadata":{},"sourceType":"module"}