{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\nilss\\\\Desktop\\\\Projects\\\\galerie-sens\\\\src\\\\components\\\\menudrop.js\";\nimport React from \"react\";\nimport Matter from \"matter-js\";\nimport MenuLink from './menulink';\n\nclass Scene extends React.Component {\n  constructor(props) {\n    super(props); // TODO: eigentlich muss window state ein paar Stufen höher und ge-propt werden.\n\n    this.style = {\n      wrapper: {\n        display: \"block\",\n        top: 50,\n        height: 'calc(100% - 50px)',\n        width: '100vw',\n        position: 'fixed'\n      },\n      menulink: {// TODO: hier kann man schön conditional logic als breakpoints fahren, abhängig von this.state.width /.height\n      },\n      dummies: {\n        width: 80,\n        height: 50,\n        background: \"red\"\n      }\n    };\n\n    this.update = () => {\n      this.setState({\n        height: window.innerHeight,\n        width: window.innerWidth\n      });\n      console.log(this.state);\n    };\n\n    this.closeMenu = () => {\n      this.props.menudrop({\n        menuDrop: false\n      });\n    };\n\n    this.state = {\n      height: window.innerHeight,\n      width: window.innerWidth\n    };\n    window.addEventListener(\"resize\", this.update);\n  }\n\n  // TODO: improve click / drag behavior (esp. touch)\n  componentDidMount() {\n    const runCode = () => {\n      const listEls = document.querySelectorAll(\"#mjs-wrapper .menulink\");\n      const listBlocks = document.querySelectorAll(\"#mjs-wrapper .dummies\");\n      const engine = Matter.Engine.create();\n      const stack = Matter.Composites.stack( // xx, yy, columns, rows, columnGap, rowGap, cb\n      0, 0, listEls.length, 2, 1, 0, (xx, yy, i) => {\n        const {\n          x,\n          y,\n          width,\n          height\n        } = listEls[i].getBoundingClientRect();\n        return Matter.Bodies.rectangle(x, y, width, height, {//isStatic: i === 0 || i + 1 === listEls.length\n        });\n      });\n      const dummies = Matter.Composites.stack( // xx, yy, columns, rows, columnGap, rowGap, cb\n      0, 0, listBlocks.length, 2, 1, 0, (xx, yy, i) => {\n        const {\n          x,\n          y,\n          width,\n          height\n        } = listBlocks[i].getBoundingClientRect();\n        return Matter.Bodies.rectangle(x, y, width, height, {//isStatic: i === 0 || i + 1 === listBlocks.length\n        });\n      });\n      const floor = Matter.Bodies.rectangle(this.state.width / 2, this.state.height - 100, this.state.width, 50);\n      Matter.Body.setStatic(floor, true);\n      const mouseConstraint = Matter.MouseConstraint.create(engine, {\n        element: document.querySelector(\"#mjs-wrapper\")\n      });\n      Matter.World.add(engine.world, [stack, dummies, mouseConstraint, floor]);\n      listEls.forEach(e => {\n        e.style.position = \"absolute\";\n        e.addEventListener(\"click\", e => {\n          console.log(e.target.textContent);\n        });\n      });\n\n      (function update() {\n        requestAnimationFrame(update);\n        stack.bodies.forEach((block, i) => {\n          const li = listEls[i];\n          const {\n            x,\n            y\n          } = block.vertices[0];\n          li.style.top = `${y}px`;\n          li.style.left = `${x}px`;\n          li.style.transform = `translate(-50%, -50%) \n\t\t\t                             rotate(${block.angle}rad) \n\t\t\t                             translate(50%, 50%)`;\n        });\n        Matter.Engine.update(engine);\n      })();\n    };\n\n    runCode();\n    this.update();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"mjs-wrapper\",\n      style: this.style.wrapper,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dummies\",\n        style: this.style.dummies\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(MenuLink, {\n        imgUrl: \" IMG/virii.jpg\",\n        href: \"/\",\n        titel: \"Aquarelle\",\n        beschreibung: \"Experimente mit Wasser und Farbe\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(MenuLink, {\n        imgUrl: \"\",\n        href: \"/login\",\n        titel: \"Objekte\",\n        beschreibung: \"Recyceltes aus dem fr\\xFChen Industriezeitalter\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(MenuLink, {\n        imgUrl: \"\",\n        href: \"/impressum\",\n        titel: \"K\\xFCnstlerprofil\",\n        beschreibung: \"Informationen \\xFCber die K\\xFCnstlerin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 8\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nexport default Scene;","map":{"version":3,"sources":["C:/Users/nilss/Desktop/Projects/galerie-sens/src/components/menudrop.js"],"names":["React","Matter","MenuLink","Scene","Component","constructor","props","style","wrapper","display","top","height","width","position","menulink","dummies","background","update","setState","window","innerHeight","innerWidth","console","log","state","closeMenu","menudrop","menuDrop","addEventListener","componentDidMount","runCode","listEls","document","querySelectorAll","listBlocks","engine","Engine","create","stack","Composites","length","xx","yy","i","x","y","getBoundingClientRect","Bodies","rectangle","floor","Body","setStatic","mouseConstraint","MouseConstraint","element","querySelector","World","add","world","forEach","e","target","textContent","requestAnimationFrame","bodies","block","li","vertices","left","transform","angle","render"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,QAAP,MAAqB,YAArB;;AAEA,MAAMC,KAAN,SAAoBH,KAAK,CAACI,SAA1B,CAAoC;AAEnCC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACjB,UAAMA,KAAN,EADiB,CAEjB;;AAFiB,SAWlBC,KAXkB,GAWV;AACJC,MAAAA,OAAO,EAAE;AACPC,QAAAA,OAAO,EAAE,OADF;AAEPC,QAAAA,GAAG,EAAS,EAFL;AAGPC,QAAAA,MAAM,EAAM,mBAHL;AAIPC,QAAAA,KAAK,EAAO,OAJL;AAKPC,QAAAA,QAAQ,EAAI;AALL,OADL;AAQJC,MAAAA,QAAQ,EAAE,CACT;AADS,OARN;AAWJC,MAAAA,OAAO,EAAE;AACRH,QAAAA,KAAK,EAAE,EADC;AACED,QAAAA,MAAM,EAAC,EADT;AACYK,QAAAA,UAAU,EAAC;AADvB;AAXL,KAXU;;AAAA,SAkGlBC,MAlGkB,GAkGT,MAAM;AACX,WAAKC,QAAL,CAAc;AACXP,QAAAA,MAAM,EAAEQ,MAAM,CAACC,WADJ;AAEXR,QAAAA,KAAK,EAAEO,MAAM,CAACE;AAFH,OAAd;AAIAC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,KAAjB;AACA,KAxGc;;AAAA,SA0GfC,SA1Ge,GA0GH,MAAM;AACjB,WAAKnB,KAAL,CAAWoB,QAAX,CAAoB;AAACC,QAAAA,QAAQ,EAAC;AAAV,OAApB;AACA,KA5Gc;;AAGjB,SAAKH,KAAL,GAAa;AACPb,MAAAA,MAAM,EAAEQ,MAAM,CAACC,WADR;AAEPR,MAAAA,KAAK,EAAEO,MAAM,CAACE;AAFP,KAAb;AAIGF,IAAAA,MAAM,CAACS,gBAAP,CAAwB,QAAxB,EAAkC,KAAKX,MAAvC;AACH;;AAmBC;AAEAY,EAAAA,iBAAiB,GAAE;AAElB,UAAMC,OAAO,GAAG,MAAM;AAEvB,YAAMC,OAAO,GAAGC,QAAQ,CAACC,gBAAT,CAA0B,wBAA1B,CAAhB;AACA,YAAMC,UAAU,GAAGF,QAAQ,CAACC,gBAAT,CAA0B,uBAA1B,CAAnB;AAEA,YAAME,MAAM,GAAGlC,MAAM,CAACmC,MAAP,CAAcC,MAAd,EAAf;AAGA,YAAMC,KAAK,GAAGrC,MAAM,CAACsC,UAAP,CAAkBD,KAAlB,EACX;AACA,OAFW,EAER,CAFQ,EAELP,OAAO,CAACS,MAFH,EAEW,CAFX,EAEc,CAFd,EAEiB,CAFjB,EAGX,CAACC,EAAD,EAAKC,EAAL,EAASC,CAAT,KAAe;AACb,cAAM;AAACC,UAAAA,CAAD;AAAIC,UAAAA,CAAJ;AAAOjC,UAAAA,KAAP;AAAcD,UAAAA;AAAd,YAAwBoB,OAAO,CAACY,CAAD,CAAP,CAAWG,qBAAX,EAA9B;AACA,eAAO7C,MAAM,CAAC8C,MAAP,CAAcC,SAAd,CAAwBJ,CAAxB,EAA2BC,CAA3B,EAA8BjC,KAA9B,EAAqCD,MAArC,EAA6C,CACjD;AADiD,SAA7C,CAAP;AAGA,OARS,CAAd;AAWA,YAAMI,OAAO,GAAGd,MAAM,CAACsC,UAAP,CAAkBD,KAAlB,EACb;AACA,OAFa,EAEV,CAFU,EAEPJ,UAAU,CAACM,MAFJ,EAEY,CAFZ,EAEe,CAFf,EAEkB,CAFlB,EAGb,CAACC,EAAD,EAAKC,EAAL,EAASC,CAAT,KAAe;AACb,cAAM;AAACC,UAAAA,CAAD;AAAIC,UAAAA,CAAJ;AAAOjC,UAAAA,KAAP;AAAcD,UAAAA;AAAd,YAAwBuB,UAAU,CAACS,CAAD,CAAV,CAAcG,qBAAd,EAA9B;AACA,eAAO7C,MAAM,CAAC8C,MAAP,CAAcC,SAAd,CAAwBJ,CAAxB,EAA2BC,CAA3B,EAA8BjC,KAA9B,EAAqCD,MAArC,EAA6C,CACjD;AADiD,SAA7C,CAAP;AAGA,OARW,CAAhB;AAWG,YAAMsC,KAAK,GAAGhD,MAAM,CAAC8C,MAAP,CAAcC,SAAd,CAAwB,KAAKxB,KAAL,CAAWZ,KAAX,GAAiB,CAAzC,EAA2C,KAAKY,KAAL,CAAWb,MAAX,GAAkB,GAA7D,EAAiE,KAAKa,KAAL,CAAWZ,KAA5E,EAAkF,EAAlF,CAAd;AAEAX,MAAAA,MAAM,CAACiD,IAAP,CAAYC,SAAZ,CAAsBF,KAAtB,EAA6B,IAA7B;AAEH,YAAMG,eAAe,GAAGnD,MAAM,CAACoD,eAAP,CAAuBhB,MAAvB,CACrBF,MADqB,EACb;AAACmB,QAAAA,OAAO,EAAEtB,QAAQ,CAACuB,aAAT,CAAuB,cAAvB;AAAV,OADa,CAAxB;AAKAtD,MAAAA,MAAM,CAACuD,KAAP,CAAaC,GAAb,CAAiBtB,MAAM,CAACuB,KAAxB,EAA+B,CAACpB,KAAD,EAAQvB,OAAR,EAAiBqC,eAAjB,EAAkCH,KAAlC,CAA/B;AAEAlB,MAAAA,OAAO,CAAC4B,OAAR,CAAgBC,CAAC,IAAI;AAClBA,QAAAA,CAAC,CAACrD,KAAF,CAAQM,QAAR,GAAmB,UAAnB;AACA+C,QAAAA,CAAC,CAAChC,gBAAF,CAAmB,OAAnB,EAA4BgC,CAAC,IAAI;AAC/BtC,UAAAA,OAAO,CAACC,GAAR,CAAYqC,CAAC,CAACC,MAAF,CAASC,WAArB;AACA,SAFF;AAGF,OALD;;AAOA,OAAC,SAAS7C,MAAT,GAAkB;AAChB8C,QAAAA,qBAAqB,CAAC9C,MAAD,CAArB;AACAqB,QAAAA,KAAK,CAAC0B,MAAN,CAAaL,OAAb,CAAqB,CAACM,KAAD,EAAQtB,CAAR,KAAc;AACjC,gBAAMuB,EAAE,GAAGnC,OAAO,CAACY,CAAD,CAAlB;AACA,gBAAM;AAACC,YAAAA,CAAD;AAAIC,YAAAA;AAAJ,cAASoB,KAAK,CAACE,QAAN,CAAe,CAAf,CAAf;AACAD,UAAAA,EAAE,CAAC3D,KAAH,CAASG,GAAT,GAAgB,GAAEmC,CAAE,IAApB;AACAqB,UAAAA,EAAE,CAAC3D,KAAH,CAAS6D,IAAT,GAAiB,GAAExB,CAAE,IAArB;AACAsB,UAAAA,EAAE,CAAC3D,KAAH,CAAS8D,SAAT,GAAsB;AAC9B,yCAAyCJ,KAAK,CAACK,KAAM;AACrD,oDAFQ;AAGH,SARC;AASArE,QAAAA,MAAM,CAACmC,MAAP,CAAcnB,MAAd,CAAqBkB,MAArB;AACF,OAZD;AAaA,KA7DC;;AA+DFL,IAAAA,OAAO;AACP,SAAKb,MAAL;AACA;;AAcDsD,EAAAA,MAAM,GAAE;AACL,wBACD;AAAK,MAAA,EAAE,EAAC,aAAR;AAAsB,MAAA,KAAK,EAAE,KAAKhE,KAAL,CAAWC,OAAxC;AAAA,8BACC;AAAK,QAAA,SAAS,EAAC,SAAf;AAAyB,QAAA,KAAK,EAAE,KAAKD,KAAL,CAAWQ;AAA3C;AAAA;AAAA;AAAA;AAAA,cADD,eAEI,QAAC,QAAD;AAAU,QAAA,MAAM,EAAC,gBAAjB;AAAkC,QAAA,IAAI,EAAE,GAAxC;AAA6C,QAAA,KAAK,EAAC,WAAnD;AAA+D,QAAA,YAAY,EAAC;AAA5E;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI,QAAC,QAAD;AAAU,QAAA,MAAM,EAAC,EAAjB;AAAoB,QAAA,IAAI,EAAE,QAA1B;AAAoC,QAAA,KAAK,EAAC,SAA1C;AAAoD,QAAA,YAAY,EAAC;AAAjE;AAAA;AAAA;AAAA;AAAA,cAHJ,eAII,QAAC,QAAD;AAAU,QAAA,MAAM,EAAC,EAAjB;AAAoB,QAAA,IAAI,EAAE,YAA1B;AAAwC,QAAA,KAAK,EAAC,mBAA9C;AAA+D,QAAA,YAAY,EAAC;AAA5E;AAAA;AAAA;AAAA;AAAA,cAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADC;AAQF;;AAzHkC;;AA2HpC,eAAeZ,KAAf","sourcesContent":["import React from \"react\"\r\nimport Matter from \"matter-js\"\r\nimport MenuLink from './menulink'\r\n\r\nclass Scene extends React.Component {\r\n\t\r\n\tconstructor(props){\r\n\t\tsuper(props)\r\n\t\t// TODO: eigentlich muss window state ein paar Stufen höher und ge-propt werden.\r\n\t\tthis.state = {\r\n\t      \theight: window.innerHeight,\r\n\t      \twidth: window.innerWidth,\r\n\t    }\r\n\t    window.addEventListener(\"resize\", this.update);\r\n\t}\r\n\r\n\r\n\tstyle = {\r\n\t    wrapper: {\r\n\t      display: \"block\",\r\n\t      top:        50,\r\n\t      height:     'calc(100% - 50px)',\r\n\t      width:      '100vw',\r\n\t      position:   'fixed'\r\n\t    },\r\n\t    menulink: {\r\n\t    \t// TODO: hier kann man schön conditional logic als breakpoints fahren, abhängig von this.state.width /.height\r\n\t    },\r\n\t    dummies: {\r\n\t    \twidth: 80,height:50,background:\"red\"\r\n\t    } \r\n  \t}\r\n\r\n  \t// TODO: improve click / drag behavior (esp. touch)\r\n\r\n  \tcomponentDidMount(){\r\n\r\n\t  \tconst runCode = () => {\r\n\r\n\t\t\tconst listEls = document.querySelectorAll(\"#mjs-wrapper .menulink\")\r\n\t\t\tconst listBlocks = document.querySelectorAll(\"#mjs-wrapper .dummies\")\r\n\t\t\t\r\n\t\t\tconst engine = Matter.Engine.create()\r\n\r\n\t\t\t\r\n\t\t\tconst stack = Matter.Composites.stack(\r\n\t\t  \t\t// xx, yy, columns, rows, columnGap, rowGap, cb\r\n\t\t  \t\t0, 0, listEls.length, 2, 1, 0,\r\n\t\t  \t\t(xx, yy, i) => {\r\n\t\t    \t\tconst {x, y, width, height} = listEls[i].getBoundingClientRect();\r\n\t\t    \t\treturn Matter.Bodies.rectangle(x, y, width, height, {\r\n\t\t      \t\t\t//isStatic: i === 0 || i + 1 === listEls.length\r\n\t\t    \t\t})\r\n\t\t    \t}\r\n\t\t    )\r\n\r\n\t\t\tconst dummies = Matter.Composites.stack(\r\n\t\t  \t\t// xx, yy, columns, rows, columnGap, rowGap, cb\r\n\t\t  \t\t0, 0, listBlocks.length, 2, 1, 0,\r\n\t\t  \t\t(xx, yy, i) => {\r\n\t\t    \t\tconst {x, y, width, height} = listBlocks[i].getBoundingClientRect();\r\n\t\t    \t\treturn Matter.Bodies.rectangle(x, y, width, height, {\r\n\t\t      \t\t\t//isStatic: i === 0 || i + 1 === listBlocks.length\r\n\t\t    \t\t})\r\n\t\t    \t}\r\n\t\t    )\r\n\r\n\t\t    const floor = Matter.Bodies.rectangle(this.state.width/2,this.state.height-100,this.state.width,50)\r\n\t\t    \r\n\t\t    Matter.Body.setStatic(floor, true)\r\n\r\n\t\t\tconst mouseConstraint = Matter.MouseConstraint.create(\r\n\t  \t\t\tengine, {element: document.querySelector(\"#mjs-wrapper\")}\r\n\t\t\t)\r\n\r\n\r\n\t\t\tMatter.World.add(engine.world, [stack, dummies, mouseConstraint, floor])\r\n\r\n\t\t\tlistEls.forEach(e => {\r\n\t\t  \t\te.style.position = \"absolute\";\r\n\t\t  \t\te.addEventListener(\"click\", e => {\r\n\t\t    \t\tconsole.log(e.target.textContent)\r\n\t\t    \t})\r\n\t\t\t});\r\n\r\n\t\t\t(function update() {\r\n\t\t  \t\trequestAnimationFrame(update)\r\n\t\t\t  \tstack.bodies.forEach((block, i) => {\r\n\t\t\t\t    const li = listEls[i]\r\n\t\t\t\t    const {x, y} = block.vertices[0]\r\n\t\t\t\t    li.style.top = `${y}px`\r\n\t\t\t\t    li.style.left = `${x}px`\r\n\t\t\t\t    li.style.transform = `translate(-50%, -50%) \r\n\t\t\t                             rotate(${block.angle}rad) \r\n\t\t\t                             translate(50%, 50%)`\r\n\t\t\t\t});\r\n\t  \t\t\tMatter.Engine.update(engine)\r\n\t\t\t})();\r\n\t\t}\r\n  \t\r\n\t\trunCode()\r\n\t\tthis.update()\r\n\t}\r\n\r\n\tupdate = () => {\r\n    \tthis.setState({\r\n\t      \theight: window.innerHeight,\r\n\t      \twidth: window.innerWidth\r\n    \t})\r\n    \tconsole.log(this.state)\r\n   \t}\r\n   \t\r\n   \tcloseMenu = () => {\r\n   \t\tthis.props.menudrop({menuDrop:false}) \r\n   \t}\r\n\t\r\n\trender(){\r\n\t  \treturn (\r\n\t\t\t<div id=\"mjs-wrapper\" style={this.style.wrapper}>\r\n\t\t\t\t<div className='dummies' style={this.style.dummies}></div>\r\n\t\t\t    <MenuLink imgUrl=\" IMG/virii.jpg\" href={\"/\"} titel=\"Aquarelle\" beschreibung=\"Experimente mit Wasser und Farbe\" />\r\n\t\t\t    <MenuLink imgUrl=\"\" href={\"/login\"} titel=\"Objekte\" beschreibung=\"Recyceltes aus dem frühen Industriezeitalter\" />\r\n\t\t\t    <MenuLink imgUrl=\"\" href={\"/impressum\"} titel=\"Künstlerprofil\" beschreibung=\"Informationen über die Künstlerin\" />\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\nexport default Scene"]},"metadata":{},"sourceType":"module"}