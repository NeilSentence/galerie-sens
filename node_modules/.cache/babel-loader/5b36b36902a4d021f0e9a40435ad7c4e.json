{"ast":null,"code":"function makeWorld() {\n  // Should reappear\n  document.getElementsByTagName(\"main\")[0].style.visibility = \"visible\";\n  /** Set up relative positions and scales **/\n\n  var VIEW = {};\n  VIEW.width = window.innerWidth;\n  VIEW.height = window.innerHeight;\n  VIEW.centerX = VIEW.width / 2;\n  VIEW.centerY = VIEW.height / 2;\n  VIEW.offsetX = VIEW.width / 2;\n  VIEW.offsetY = VIEW.height / 2; // Matter.js module aliases\n\n  var Engine = Matter.Engine,\n      Render = Matter.Render,\n      Runner = Matter.Runner,\n      Common = Matter.Common,\n      World = Matter.World,\n      Bodies = Matter.Bodies,\n      Body = Matter.Body,\n      Events = Matter.Events,\n      Query = Matter.Query,\n      MouseConstraint = Matter.MouseConstraint,\n      Mouse = Matter.Mouse; // create engine\n\n  var engine = Engine.create(),\n      world = engine.world; // create renderer\n\n  var render = Render.create({\n    engine: engine,\n    element: document.getElementById(\"debug\"),\n    options: {\n      width: window.innerWidth,\n      height: window.innerHeight,\n      background: 'transparent',\n      // transparent to hide\n      wireframeBackground: 'transparent',\n      // transparent to hide\n      hasBounds: false,\n      enabled: true,\n      wireframes: false,\n      showSleeping: true,\n      showDebug: false,\n      showBroadphase: false,\n      showBounds: false,\n      showVelocity: false,\n      showCollisions: false,\n      showAxes: false,\n      showPositions: false,\n      showAngleIndicator: false,\n      showIds: false,\n      showShadows: false\n    }\n  }); // Disable to hide debug\n\n  Render.run(render); // create runner\n\n  var runner = Runner.create();\n  Runner.run(runner, engine);\n  var ceiling, wallLeft, wallRight, ground; // add walls\n\n  var wallopts = {\n    isStatic: true,\n    restitution: 0.2,\n    friction: 1\n  };\n  var groundopts = {\n    isStatic: true,\n    restitution: 0,\n    friction: 2\n  };\n  World.add(world, [// ground\n  ground = Bodies.rectangle(window.innerWidth / 2, window.innerHeight + 50, window.innerWidth + 200, 100, groundopts), // walls\n  ceiling = Bodies.rectangle(window.innerWidth / 2, -50, window.innerWidth + 200, 100, wallopts), // top\n  wallRight = Bodies.rectangle(window.innerWidth + 50, window.innerHeight / 2, 100, window.innerHeight, wallopts), // right\n  wallLeft = Bodies.rectangle(-50, window.innerHeight / 2, 100, window.innerHeight, wallopts) // left\n  ]);\n  var bodiesDom = document.querySelectorAll('.matter-body');\n  var bodies = [];\n\n  for (var i = 0, l = bodiesDom.length; i < l; i++) {\n    if (bodiesDom[i].classList.contains('hot')) {\n      frA = 0.1;\n      oY = -40;\n    } else {\n      frA = 0;\n      oY = 0;\n    }\n\n    if (bodiesDom[i].classList.contains('strip')) {\n      // Strip\n      var body = Bodies.rectangle(VIEW.centerX + Math.floor(Math.random() * VIEW.width / 2) - VIEW.width / 4, oY, VIEW.width * bodiesDom[i].offsetWidth / window.innerWidth, VIEW.height * bodiesDom[i].offsetHeight / window.innerHeight, {\n        restitution: 0.05,\n        friction: 2,\n        frictionAir: frA,\n        frictionStatic: 20,\n        density: 100,\n        chamfer: {\n          radius: 4\n        },\n        angle: Math.random() * 2.000 - 1.000\n      });\n    } else if (bodiesDom[i].classList.contains('page-nav')) {\n      // Nav\n      var body = Bodies.circle(VIEW.centerX + Math.floor(Math.random() * VIEW.width / 2) - VIEW.width / 4, 0, 24, {\n        restitution: 0.3,\n        friction: 2,\n        frictionAir: 0,\n        frictionStatic: 2,\n        density: 100,\n        angle: Math.random() * 2.000 - 1.000\n      });\n    }\n\n    bodiesDom[i].id = body.id;\n    bodies.push(body);\n  }\n\n  World.add(engine.world, bodies); // add gyro control\n\n  var updateGravity = function (event) {\n    var orientation = typeof window.orientation !== 'undefined' ? window.orientation : 0,\n        gravity = engine.world.gravity;\n\n    if (orientation === 0) {\n      gravity.x = Common.clamp(event.gamma, -90, 90) / 90;\n      gravity.y = Common.clamp(event.beta, -90, 90) / 90;\n    } else if (orientation === 180) {\n      gravity.x = Common.clamp(event.gamma, -90, 90) / 90;\n      gravity.y = Common.clamp(-event.beta, -90, 90) / 90;\n    } else if (orientation === 90) {\n      gravity.x = Common.clamp(event.beta, -90, 90) / 90;\n      gravity.y = Common.clamp(-event.gamma, -90, 90) / 90;\n    } else if (orientation === -90) {\n      gravity.x = Common.clamp(-event.beta, -90, 90) / 90;\n      gravity.y = Common.clamp(event.gamma, -90, 90) / 90;\n    }\n  };\n\n  window.addEventListener('deviceorientation', updateGravity); // Add mouse control\n\n  var mouse = Mouse.create(render.canvas),\n      mouseConstraint = MouseConstraint.create(engine, {\n    mouse: mouse,\n    constraint: {\n      stiffness: 1,\n      render: {\n        visible: false\n      }\n    }\n  });\n  World.add(engine.world, mouseConstraint); // keep the mouse in sync with rendering\n\n  render.mouse = mouse;\n  var mouseX, mouseY, mouseXO, mouseYO, mouseXN, mouseYN; // Hover\n\n  Events.on(mouseConstraint, \"mousemove\", function (e) {\n    mouseX = e.mouse.absolute.x;\n    mouseY = e.mouse.absolute.y;\n\n    if (Query.point(bodies, {\n      x: mouseX,\n      y: mouseY\n    }).length) {\n      // remove exitsing hovers\n      removeHovers(); // apply new hover\n\n      var underMouse = Query.point(bodies, {\n        x: mouseX,\n        y: mouseY\n      })[0].id;\n      document.getElementById(underMouse).className += \" hover\";\n      document.body.style.cursor = \"pointer\";\n    } else {\n      removeHovers();\n    }\n  });\n\n  function removeHovers() {\n    var hovered = document.getElementsByClassName(\"hover\");\n\n    for (var i = 0; i < hovered.length; i++) {\n      hovered[i].classList.remove(\"hover\");\n    }\n\n    document.body.style.cursor = \"auto\";\n  } // Press (1)\n\n\n  Events.on(mouseConstraint, \"mousedown\", function (e) {\n    mouseXO = e.mouse.absolute.x;\n    mouseYO = e.mouse.absolute.y;\n  }); // Press (2), part 1 and 2 checks is not end of drag\n\n  Events.on(mouseConstraint, \"mouseup\", function (e) {\n    mouseXN = e.mouse.absolute.x;\n    mouseYN = e.mouse.absolute.y;\n\n    if (mouseXO == mouseXN && mouseYO == mouseYN) {\n      if (Query.point(bodies, {\n        x: mouseXN,\n        y: mouseYN\n      }).length) {\n        var underMouse = Query.point(bodies, {\n          x: mouseXN,\n          y: mouseYN\n        })[0].id;\n      }\n\n      if (underMouse) {\n        // go to URL\n        window.location.href = document.getElementById(underMouse).getAttribute(\"data-url\");\n      }\n    }\n\n    removeHovers();\n  });\n  window.requestAnimationFrame(update);\n\n  function update() {\n    // strips\n    for (var i = 0, l = bodiesDom.length; i < l; i++) {\n      var bodyDom = bodiesDom[i];\n      var body = null;\n\n      for (var j = 0, k = bodies.length; j < k; j++) {\n        if (bodies[j].id == bodyDom.id) {\n          body = bodies[j];\n          break;\n        }\n      }\n\n      if (body === null) continue;\n      bodyDom.style.transform = \"translate( \" + (body.position.x - bodyDom.offsetWidth / 2) + \"px, \" + (body.position.y - bodyDom.offsetHeight / 2) + \"px )\";\n      bodyDom.style.transform += \"rotate( \" + body.angle + \"rad )\";\n    }\n\n    window.requestAnimationFrame(update);\n  }\n}\n\nmakeWorld();\n\nfunction debounce(func, wait, immediate) {\n  var timeout;\n  return function () {\n    var context = this,\n        args = arguments;\n    clearTimeout(timeout);\n    timeout = setTimeout(function () {\n      timeout = null;\n      if (!immediate) func.apply(context, args);\n    }, wait);\n    if (immediate && !timeout) func.apply(context, args);\n  };\n}\n\nvar refreshWorld = debounce(function () {\n  location.reload();\n}, 500);\nwindow.addEventListener('resize', refreshWorld);","map":{"version":3,"sources":["C:/Users/nilss/Desktop/Projects/galerie-sens/src/components/scene_DOM.js"],"names":["makeWorld","document","getElementsByTagName","style","visibility","VIEW","width","window","innerWidth","height","innerHeight","centerX","centerY","offsetX","offsetY","Engine","Matter","Render","Runner","Common","World","Bodies","Body","Events","Query","MouseConstraint","Mouse","engine","create","world","render","element","getElementById","options","background","wireframeBackground","hasBounds","enabled","wireframes","showSleeping","showDebug","showBroadphase","showBounds","showVelocity","showCollisions","showAxes","showPositions","showAngleIndicator","showIds","showShadows","run","runner","ceiling","wallLeft","wallRight","ground","wallopts","isStatic","restitution","friction","groundopts","add","rectangle","bodiesDom","querySelectorAll","bodies","i","l","length","classList","contains","frA","oY","body","Math","floor","random","offsetWidth","offsetHeight","frictionAir","frictionStatic","density","chamfer","radius","angle","circle","id","push","updateGravity","event","orientation","gravity","x","clamp","gamma","y","beta","addEventListener","mouse","canvas","mouseConstraint","constraint","stiffness","visible","mouseX","mouseY","mouseXO","mouseYO","mouseXN","mouseYN","on","e","absolute","point","removeHovers","underMouse","className","cursor","hovered","getElementsByClassName","remove","location","href","getAttribute","requestAnimationFrame","update","bodyDom","j","k","transform","position","debounce","func","wait","immediate","timeout","context","args","arguments","clearTimeout","setTimeout","apply","refreshWorld","reload"],"mappings":"AAAA,SAASA,SAAT,GAAqB;AAEnB;AACAC,EAAAA,QAAQ,CAACC,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,EAAyCC,KAAzC,CAA+CC,UAA/C,GAA4D,SAA5D;AAEA;;AACA,MAAIC,IAAI,GAAG,EAAX;AACAA,EAAAA,IAAI,CAACC,KAAL,GAAgBC,MAAM,CAACC,UAAvB;AACAH,EAAAA,IAAI,CAACI,MAAL,GAAgBF,MAAM,CAACG,WAAvB;AACAL,EAAAA,IAAI,CAACM,OAAL,GAAgBN,IAAI,CAACC,KAAL,GAAa,CAA7B;AACAD,EAAAA,IAAI,CAACO,OAAL,GAAgBP,IAAI,CAACI,MAAL,GAAc,CAA9B;AACAJ,EAAAA,IAAI,CAACQ,OAAL,GAAgBR,IAAI,CAACC,KAAL,GAAa,CAA7B;AACAD,EAAAA,IAAI,CAACS,OAAL,GAAgBT,IAAI,CAACI,MAAL,GAAc,CAA9B,CAZmB,CAcnB;;AACA,MAAIM,MAAM,GAAMC,MAAM,CAACD,MAAvB;AAAA,MACIE,MAAM,GAAMD,MAAM,CAACC,MADvB;AAAA,MAEIC,MAAM,GAAMF,MAAM,CAACE,MAFvB;AAAA,MAGIC,MAAM,GAAMH,MAAM,CAACG,MAHvB;AAAA,MAIIC,KAAK,GAAOJ,MAAM,CAACI,KAJvB;AAAA,MAKIC,MAAM,GAAML,MAAM,CAACK,MALvB;AAAA,MAMIC,IAAI,GAAQN,MAAM,CAACM,IANvB;AAAA,MAOIC,MAAM,GAAMP,MAAM,CAACO,MAPvB;AAAA,MAQIC,KAAK,GAAOR,MAAM,CAACQ,KARvB;AAAA,MASIC,eAAe,GAAGT,MAAM,CAACS,eAT7B;AAAA,MAUIC,KAAK,GAAOV,MAAM,CAACU,KAVvB,CAfmB,CA2BnB;;AACA,MAAIC,MAAM,GAAMZ,MAAM,CAACa,MAAP,EAAhB;AAAA,MACIC,KAAK,GAAOF,MAAM,CAACE,KADvB,CA5BmB,CA+BnB;;AACA,MAAIC,MAAM,GAAGb,MAAM,CAACW,MAAP,CAAc;AACzBD,IAAAA,MAAM,EAAEA,MADiB;AAEzBI,IAAAA,OAAO,EAAE9B,QAAQ,CAAC+B,cAAT,CAAwB,OAAxB,CAFgB;AAGzBC,IAAAA,OAAO,EAAE;AACP3B,MAAAA,KAAK,EAAEC,MAAM,CAACC,UADP;AAEPC,MAAAA,MAAM,EAAEF,MAAM,CAACG,WAFR;AAGPwB,MAAAA,UAAU,EAAE,aAHL;AAGoB;AAC3BC,MAAAA,mBAAmB,EAAE,aAJd;AAI6B;AACpCC,MAAAA,SAAS,EAAE,KALJ;AAMPC,MAAAA,OAAO,EAAE,IANF;AAOPC,MAAAA,UAAU,EAAE,KAPL;AAQPC,MAAAA,YAAY,EAAE,IARP;AASPC,MAAAA,SAAS,EAAE,KATJ;AAUPC,MAAAA,cAAc,EAAE,KAVT;AAWPC,MAAAA,UAAU,EAAE,KAXL;AAYPC,MAAAA,YAAY,EAAE,KAZP;AAaPC,MAAAA,cAAc,EAAE,KAbT;AAcPC,MAAAA,QAAQ,EAAE,KAdH;AAePC,MAAAA,aAAa,EAAE,KAfR;AAgBPC,MAAAA,kBAAkB,EAAE,KAhBb;AAiBPC,MAAAA,OAAO,EAAE,KAjBF;AAkBPC,MAAAA,WAAW,EAAE;AAlBN;AAHgB,GAAd,CAAb,CAhCmB,CAyDnB;;AACAhC,EAAAA,MAAM,CAACiC,GAAP,CAAWpB,MAAX,EA1DmB,CA4DnB;;AACA,MAAIqB,MAAM,GAAGjC,MAAM,CAACU,MAAP,EAAb;AACAV,EAAAA,MAAM,CAACgC,GAAP,CAAWC,MAAX,EAAmBxB,MAAnB;AAEA,MAAIyB,OAAJ,EACIC,QADJ,EAEIC,SAFJ,EAGIC,MAHJ,CAhEmB,CAqEnB;;AACA,MAAIC,QAAQ,GAAG;AACXC,IAAAA,QAAQ,EAAM,IADH;AAEXC,IAAAA,WAAW,EAAG,GAFH;AAGXC,IAAAA,QAAQ,EAAM;AAHH,GAAf;AAKA,MAAIC,UAAU,GAAG;AACbH,IAAAA,QAAQ,EAAM,IADD;AAEbC,IAAAA,WAAW,EAAG,CAFD;AAGbC,IAAAA,QAAQ,EAAM;AAHD,GAAjB;AAKAvC,EAAAA,KAAK,CAACyC,GAAN,CAAUhC,KAAV,EAAiB,CACf;AACA0B,EAAAA,MAAM,GAAMlC,MAAM,CAACyC,SAAP,CAAiBvD,MAAM,CAACC,UAAP,GAAkB,CAAnC,EAAsCD,MAAM,CAACG,WAAP,GAAmB,EAAzD,EAA6DH,MAAM,CAACC,UAAP,GAAkB,GAA/E,EAAoF,GAApF,EAAyFoD,UAAzF,CAFG,EAGf;AACAR,EAAAA,OAAO,GAAK/B,MAAM,CAACyC,SAAP,CAAiBvD,MAAM,CAACC,UAAP,GAAkB,CAAnC,EAAsC,CAAC,EAAvC,EAA2CD,MAAM,CAACC,UAAP,GAAkB,GAA7D,EAAkE,GAAlE,EAAuEgD,QAAvE,CAJG,EAI+E;AAC9FF,EAAAA,SAAS,GAAGjC,MAAM,CAACyC,SAAP,CAAiBvD,MAAM,CAACC,UAAP,GAAkB,EAAnC,EAAuCD,MAAM,CAACG,WAAP,GAAmB,CAA1D,EAA6D,GAA7D,EAAkEH,MAAM,CAACG,WAAzE,EAAsF8C,QAAtF,CALG,EAK8F;AAC7GH,EAAAA,QAAQ,GAAIhC,MAAM,CAACyC,SAAP,CAAiB,CAAC,EAAlB,EAAsBvD,MAAM,CAACG,WAAP,GAAmB,CAAzC,EAA4C,GAA5C,EAAiDH,MAAM,CAACG,WAAxD,EAAqE8C,QAArE,CANG,CAM4E;AAN5E,GAAjB;AASA,MAAIO,SAAS,GAAG9D,QAAQ,CAAC+D,gBAAT,CAA0B,cAA1B,CAAhB;AACA,MAAIC,MAAM,GAAG,EAAb;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAGJ,SAAS,CAACK,MAA9B,EAAsCF,CAAC,GAAGC,CAA1C,EAA6CD,CAAC,EAA9C,EAAkD;AAChD,QAAIH,SAAS,CAACG,CAAD,CAAT,CAAaG,SAAb,CAAuBC,QAAvB,CAAgC,KAAhC,CAAJ,EAA4C;AAC1CC,MAAAA,GAAG,GAAG,GAAN;AACAC,MAAAA,EAAE,GAAG,CAAC,EAAN;AACD,KAHD,MAGO;AACLD,MAAAA,GAAG,GAAG,CAAN;AACAC,MAAAA,EAAE,GAAG,CAAL;AACD;;AACD,QAAIT,SAAS,CAACG,CAAD,CAAT,CAAaG,SAAb,CAAuBC,QAAvB,CAAgC,OAAhC,CAAJ,EAA8C;AAC5C;AACA,UAAIG,IAAI,GAAGpD,MAAM,CAACyC,SAAP,CACTzD,IAAI,CAACM,OAAL,GAAe+D,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgBvE,IAAI,CAACC,KAArB,GAA2B,CAAtC,CAAf,GAA0DD,IAAI,CAACC,KAAL,GAAW,CAD5D,EAETkE,EAFS,EAGTnE,IAAI,CAACC,KAAL,GAAayD,SAAS,CAACG,CAAD,CAAT,CAAaW,WAA1B,GAAwCtE,MAAM,CAACC,UAHtC,EAITH,IAAI,CAACI,MAAL,GAAcsD,SAAS,CAACG,CAAD,CAAT,CAAaY,YAA3B,GAA0CvE,MAAM,CAACG,WAJxC,EAIqD;AAC5DgD,QAAAA,WAAW,EAAO,IAD0C;AAE5DC,QAAAA,QAAQ,EAAU,CAF0C;AAG5DoB,QAAAA,WAAW,EAAOR,GAH0C;AAI5DS,QAAAA,cAAc,EAAI,EAJ0C;AAK5DC,QAAAA,OAAO,EAAW,GAL0C;AAM5DC,QAAAA,OAAO,EAAW;AAAEC,UAAAA,MAAM,EAAE;AAAV,SAN0C;AAO5DC,QAAAA,KAAK,EAAcV,IAAI,CAACE,MAAL,KAAgB,KAAjB,GAA0B;AAPgB,OAJrD,CAAX;AAcD,KAhBD,MAgBO,IAAIb,SAAS,CAACG,CAAD,CAAT,CAAaG,SAAb,CAAuBC,QAAvB,CAAgC,UAAhC,CAAJ,EAAiD;AACtD;AACA,UAAIG,IAAI,GAAGpD,MAAM,CAACgE,MAAP,CACThF,IAAI,CAACM,OAAL,GAAe+D,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgBvE,IAAI,CAACC,KAArB,GAA2B,CAAtC,CAAf,GAA0DD,IAAI,CAACC,KAAL,GAAW,CAD5D,EAET,CAFS,EAGT,EAHS,EAGL;AACFoD,QAAAA,WAAW,EAAO,GADhB;AAEFC,QAAAA,QAAQ,EAAU,CAFhB;AAGFoB,QAAAA,WAAW,EAAO,CAHhB;AAIFC,QAAAA,cAAc,EAAI,CAJhB;AAKFC,QAAAA,OAAO,EAAW,GALhB;AAMFG,QAAAA,KAAK,EAAcV,IAAI,CAACE,MAAL,KAAgB,KAAjB,GAA0B;AAN1C,OAHK,CAAX;AAYD;;AACDb,IAAAA,SAAS,CAACG,CAAD,CAAT,CAAaoB,EAAb,GAAkBb,IAAI,CAACa,EAAvB;AACArB,IAAAA,MAAM,CAACsB,IAAP,CAAYd,IAAZ;AACD;;AAEDrD,EAAAA,KAAK,CAACyC,GAAN,CAAUlC,MAAM,CAACE,KAAjB,EAAwBoC,MAAxB,EAtImB,CAwInB;;AACA,MAAIuB,aAAa,GAAG,UAASC,KAAT,EAAgB;AAChC,QAAIC,WAAW,GAAG,OAAOnF,MAAM,CAACmF,WAAd,KAA8B,WAA9B,GAA4CnF,MAAM,CAACmF,WAAnD,GAAiE,CAAnF;AAAA,QACIC,OAAO,GAAGhE,MAAM,CAACE,KAAP,CAAa8D,OAD3B;;AAGA,QAAID,WAAW,KAAK,CAApB,EAAuB;AACnBC,MAAAA,OAAO,CAACC,CAAR,GAAYzE,MAAM,CAAC0E,KAAP,CAAaJ,KAAK,CAACK,KAAnB,EAA0B,CAAC,EAA3B,EAA+B,EAA/B,IAAqC,EAAjD;AACAH,MAAAA,OAAO,CAACI,CAAR,GAAY5E,MAAM,CAAC0E,KAAP,CAAaJ,KAAK,CAACO,IAAnB,EAAyB,CAAC,EAA1B,EAA8B,EAA9B,IAAoC,EAAhD;AACH,KAHD,MAGO,IAAIN,WAAW,KAAK,GAApB,EAAyB;AAC5BC,MAAAA,OAAO,CAACC,CAAR,GAAYzE,MAAM,CAAC0E,KAAP,CAAaJ,KAAK,CAACK,KAAnB,EAA0B,CAAC,EAA3B,EAA+B,EAA/B,IAAqC,EAAjD;AACAH,MAAAA,OAAO,CAACI,CAAR,GAAY5E,MAAM,CAAC0E,KAAP,CAAa,CAACJ,KAAK,CAACO,IAApB,EAA0B,CAAC,EAA3B,EAA+B,EAA/B,IAAqC,EAAjD;AACH,KAHM,MAGA,IAAIN,WAAW,KAAK,EAApB,EAAwB;AAC3BC,MAAAA,OAAO,CAACC,CAAR,GAAYzE,MAAM,CAAC0E,KAAP,CAAaJ,KAAK,CAACO,IAAnB,EAAyB,CAAC,EAA1B,EAA8B,EAA9B,IAAoC,EAAhD;AACAL,MAAAA,OAAO,CAACI,CAAR,GAAY5E,MAAM,CAAC0E,KAAP,CAAa,CAACJ,KAAK,CAACK,KAApB,EAA2B,CAAC,EAA5B,EAAgC,EAAhC,IAAsC,EAAlD;AACH,KAHM,MAGA,IAAIJ,WAAW,KAAK,CAAC,EAArB,EAAyB;AAC5BC,MAAAA,OAAO,CAACC,CAAR,GAAYzE,MAAM,CAAC0E,KAAP,CAAa,CAACJ,KAAK,CAACO,IAApB,EAA0B,CAAC,EAA3B,EAA+B,EAA/B,IAAqC,EAAjD;AACAL,MAAAA,OAAO,CAACI,CAAR,GAAY5E,MAAM,CAAC0E,KAAP,CAAaJ,KAAK,CAACK,KAAnB,EAA0B,CAAC,EAA3B,EAA+B,EAA/B,IAAqC,EAAjD;AACH;AACJ,GAjBD;;AAmBAvF,EAAAA,MAAM,CAAC0F,gBAAP,CAAwB,mBAAxB,EAA6CT,aAA7C,EA5JmB,CA8JnB;;AAEA,MAAIU,KAAK,GAAGxE,KAAK,CAACE,MAAN,CAAaE,MAAM,CAACqE,MAApB,CAAZ;AAAA,MACIC,eAAe,GAAG3E,eAAe,CAACG,MAAhB,CAAuBD,MAAvB,EAA+B;AACjDuE,IAAAA,KAAK,EAAEA,KAD0C;AAEjDG,IAAAA,UAAU,EAAE;AACVC,MAAAA,SAAS,EAAE,CADD;AAEVxE,MAAAA,MAAM,EAAE;AACNyE,QAAAA,OAAO,EAAE;AADH;AAFE;AAFqC,GAA/B,CADtB;AAWAnF,EAAAA,KAAK,CAACyC,GAAN,CAAUlC,MAAM,CAACE,KAAjB,EAAwBuE,eAAxB,EA3KmB,CA6KnB;;AACAtE,EAAAA,MAAM,CAACoE,KAAP,GAAeA,KAAf;AAEA,MAAIM,MAAJ,EACIC,MADJ,EAEIC,OAFJ,EAGIC,OAHJ,EAIIC,OAJJ,EAKIC,OALJ,CAhLmB,CAuLnB;;AACAtF,EAAAA,MAAM,CAACuF,EAAP,CAAUV,eAAV,EAA2B,WAA3B,EAAwC,UAASW,CAAT,EAAY;AAClDP,IAAAA,MAAM,GAAGO,CAAC,CAACb,KAAF,CAAQc,QAAR,CAAiBpB,CAA1B;AACAa,IAAAA,MAAM,GAAGM,CAAC,CAACb,KAAF,CAAQc,QAAR,CAAiBjB,CAA1B;;AACA,QAAIvE,KAAK,CAACyF,KAAN,CAAYhD,MAAZ,EAAoB;AAAE2B,MAAAA,CAAC,EAAEY,MAAL;AAAaT,MAAAA,CAAC,EAAEU;AAAhB,KAApB,EAA8CrC,MAAlD,EAA0D;AACxD;AACA8C,MAAAA,YAAY,GAF4C,CAGxD;;AACA,UAAIC,UAAU,GAAG3F,KAAK,CAACyF,KAAN,CAAYhD,MAAZ,EAAoB;AAAE2B,QAAAA,CAAC,EAAEY,MAAL;AAAaT,QAAAA,CAAC,EAAEU;AAAhB,OAApB,EAA8C,CAA9C,EAAiDnB,EAAlE;AACArF,MAAAA,QAAQ,CAAC+B,cAAT,CAAwBmF,UAAxB,EAAoCC,SAApC,IAAiD,QAAjD;AACAnH,MAAAA,QAAQ,CAACwE,IAAT,CAActE,KAAd,CAAoBkH,MAApB,GAA6B,SAA7B;AACD,KAPD,MAOO;AACLH,MAAAA,YAAY;AACb;AACF,GAbD;;AAeA,WAASA,YAAT,GAAwB;AACtB,QAAII,OAAO,GAAGrH,QAAQ,CAACsH,sBAAT,CAAgC,OAAhC,CAAd;;AACA,SAAK,IAAIrD,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGoD,OAAO,CAAClD,MAA5B,EAAoCF,CAAC,EAArC,EAAyC;AACvCoD,MAAAA,OAAO,CAACpD,CAAD,CAAP,CAAWG,SAAX,CAAqBmD,MAArB,CAA4B,OAA5B;AACD;;AACDvH,IAAAA,QAAQ,CAACwE,IAAT,CAActE,KAAd,CAAoBkH,MAApB,GAA6B,MAA7B;AACD,GA7MkB,CA+MnB;;;AACA9F,EAAAA,MAAM,CAACuF,EAAP,CAAUV,eAAV,EAA2B,WAA3B,EAAwC,UAASW,CAAT,EAAY;AAClDL,IAAAA,OAAO,GAAGK,CAAC,CAACb,KAAF,CAAQc,QAAR,CAAiBpB,CAA3B;AACAe,IAAAA,OAAO,GAAGI,CAAC,CAACb,KAAF,CAAQc,QAAR,CAAiBjB,CAA3B;AACD,GAHD,EAhNmB,CAoNnB;;AACAxE,EAAAA,MAAM,CAACuF,EAAP,CAAUV,eAAV,EAA2B,SAA3B,EAAsC,UAASW,CAAT,EAAY;AAChDH,IAAAA,OAAO,GAAGG,CAAC,CAACb,KAAF,CAAQc,QAAR,CAAiBpB,CAA3B;AACAiB,IAAAA,OAAO,GAAGE,CAAC,CAACb,KAAF,CAAQc,QAAR,CAAiBjB,CAA3B;;AACA,QAAKW,OAAO,IAAIE,OAAZ,IAAyBD,OAAO,IAAIE,OAAxC,EAAkD;AAChD,UAAIrF,KAAK,CAACyF,KAAN,CAAYhD,MAAZ,EAAoB;AAAE2B,QAAAA,CAAC,EAAEgB,OAAL;AAAcb,QAAAA,CAAC,EAAEc;AAAjB,OAApB,EAAgDzC,MAApD,EAA4D;AAC1D,YAAI+C,UAAU,GAAG3F,KAAK,CAACyF,KAAN,CAAYhD,MAAZ,EAAoB;AAAE2B,UAAAA,CAAC,EAAEgB,OAAL;AAAcb,UAAAA,CAAC,EAAEc;AAAjB,SAApB,EAAgD,CAAhD,EAAmDvB,EAApE;AACD;;AACD,UAAI6B,UAAJ,EAAgB;AACd;AACA5G,QAAAA,MAAM,CAACkH,QAAP,CAAgBC,IAAhB,GAAuBzH,QAAQ,CAAC+B,cAAT,CAAwBmF,UAAxB,EAAoCQ,YAApC,CAAiD,UAAjD,CAAvB;AACD;AACF;;AACDT,IAAAA,YAAY;AACb,GAbD;AAeA3G,EAAAA,MAAM,CAACqH,qBAAP,CAA6BC,MAA7B;;AAEA,WAASA,MAAT,GAAkB;AAEhB;AACA,SAAK,IAAI3D,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAGJ,SAAS,CAACK,MAA9B,EAAsCF,CAAC,GAAGC,CAA1C,EAA6CD,CAAC,EAA9C,EAAkD;AAChD,UAAI4D,OAAO,GAAG/D,SAAS,CAACG,CAAD,CAAvB;AACA,UAAIO,IAAI,GAAG,IAAX;;AACA,WAAK,IAAIsD,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAG/D,MAAM,CAACG,MAA3B,EAAmC2D,CAAC,GAAGC,CAAvC,EAA0CD,CAAC,EAA3C,EAA+C;AAC7C,YAAI9D,MAAM,CAAC8D,CAAD,CAAN,CAAUzC,EAAV,IAAgBwC,OAAO,CAACxC,EAA5B,EAAgC;AAC9Bb,UAAAA,IAAI,GAAGR,MAAM,CAAC8D,CAAD,CAAb;AACA;AACD;AACF;;AAED,UAAItD,IAAI,KAAK,IAAb,EAAmB;AAEnBqD,MAAAA,OAAO,CAAC3H,KAAR,CAAc8H,SAAd,GAA0B,iBACvBxD,IAAI,CAACyD,QAAL,CAActC,CAAd,GAAkBkC,OAAO,CAACjD,WAAR,GAAsB,CADjB,IAExB,MAFwB,IAGvBJ,IAAI,CAACyD,QAAL,CAAcnC,CAAd,GAAkB+B,OAAO,CAAChD,YAAR,GAAuB,CAHlB,IAIxB,MAJF;AAKAgD,MAAAA,OAAO,CAAC3H,KAAR,CAAc8H,SAAd,IAA2B,aAAaxD,IAAI,CAACW,KAAlB,GAA0B,OAArD;AACD;;AAED7E,IAAAA,MAAM,CAACqH,qBAAP,CAA6BC,MAA7B;AACD;AAEF;;AAED7H,SAAS;;AAET,SAASmI,QAAT,CAAkBC,IAAlB,EAAwBC,IAAxB,EAA8BC,SAA9B,EAAyC;AACvC,MAAIC,OAAJ;AACA,SAAO,YAAW;AAChB,QAAIC,OAAO,GAAG,IAAd;AAAA,QAAoBC,IAAI,GAAGC,SAA3B;AACAC,IAAAA,YAAY,CAACJ,OAAD,CAAZ;AACAA,IAAAA,OAAO,GAAGK,UAAU,CAAC,YAAW;AAC9BL,MAAAA,OAAO,GAAG,IAAV;AACA,UAAI,CAACD,SAAL,EAAgBF,IAAI,CAACS,KAAL,CAAWL,OAAX,EAAoBC,IAApB;AACjB,KAHmB,EAGjBJ,IAHiB,CAApB;AAIA,QAAIC,SAAS,IAAI,CAACC,OAAlB,EAA2BH,IAAI,CAACS,KAAL,CAAWL,OAAX,EAAoBC,IAApB;AAC5B,GARD;AASD;;AAED,IAAIK,YAAY,GAAGX,QAAQ,CAAC,YAAW;AACrCV,EAAAA,QAAQ,CAACsB,MAAT;AACD,CAF0B,EAExB,GAFwB,CAA3B;AAIAxI,MAAM,CAAC0F,gBAAP,CAAwB,QAAxB,EAAkC6C,YAAlC","sourcesContent":["function makeWorld() {\r\n\r\n  // Should reappear\r\n  document.getElementsByTagName(\"main\")[0].style.visibility = \"visible\";\r\n\r\n  /** Set up relative positions and scales **/\r\n  var VIEW = {};\r\n  VIEW.width    = window.innerWidth;\r\n  VIEW.height   = window.innerHeight;\r\n  VIEW.centerX  = VIEW.width / 2;\r\n  VIEW.centerY  = VIEW.height / 2;\r\n  VIEW.offsetX  = VIEW.width / 2;\r\n  VIEW.offsetY  = VIEW.height / 2;\r\n\r\n  // Matter.js module aliases\r\n  var Engine    = Matter.Engine,\r\n      Render    = Matter.Render,\r\n      Runner    = Matter.Runner,\r\n      Common    = Matter.Common,\r\n      World     = Matter.World,\r\n      Bodies    = Matter.Bodies,\r\n      Body      = Matter.Body,\r\n      Events    = Matter.Events,\r\n      Query     = Matter.Query,\r\n      MouseConstraint = Matter.MouseConstraint,\r\n      Mouse     = Matter.Mouse;\r\n\r\n  // create engine\r\n  var engine    = Engine.create(),\r\n      world     = engine.world;\r\n\r\n  // create renderer\r\n  var render = Render.create({\r\n    engine: engine,\r\n    element: document.getElementById(\"debug\"),\r\n    options: {\r\n      width: window.innerWidth,\r\n      height: window.innerHeight,\r\n      background: 'transparent', // transparent to hide\r\n      wireframeBackground: 'transparent', // transparent to hide\r\n      hasBounds: false,\r\n      enabled: true,\r\n      wireframes: false,\r\n      showSleeping: true,\r\n      showDebug: false,\r\n      showBroadphase: false,\r\n      showBounds: false,\r\n      showVelocity: false,\r\n      showCollisions: false,\r\n      showAxes: false,\r\n      showPositions: false,\r\n      showAngleIndicator: false,\r\n      showIds: false,\r\n      showShadows: false\r\n    }\r\n  });\r\n\r\n  // Disable to hide debug\r\n  Render.run(render);\r\n\r\n  // create runner\r\n  var runner = Runner.create();\r\n  Runner.run(runner, engine);\r\n\r\n  var ceiling,\r\n      wallLeft,\r\n      wallRight,\r\n      ground;\r\n\r\n  // add walls\r\n  var wallopts = {\r\n      isStatic:     true,\r\n      restitution:  0.2,\r\n      friction:     1\r\n  };\r\n  var groundopts = {\r\n      isStatic:     true,\r\n      restitution:  0,\r\n      friction:     2\r\n  };\r\n  World.add(world, [\r\n    // ground\r\n    ground    = Bodies.rectangle(window.innerWidth/2, window.innerHeight+50, window.innerWidth+200, 100, groundopts),\r\n    // walls\r\n    ceiling   = Bodies.rectangle(window.innerWidth/2, -50, window.innerWidth+200, 100, wallopts), // top\r\n    wallRight = Bodies.rectangle(window.innerWidth+50, window.innerHeight/2, 100, window.innerHeight, wallopts), // right\r\n    wallLeft  = Bodies.rectangle(-50, window.innerHeight/2, 100, window.innerHeight, wallopts) // left\r\n  ]);\r\n\r\n  var bodiesDom = document.querySelectorAll('.matter-body');\r\n  var bodies = [];\r\n  for (var i = 0, l = bodiesDom.length; i < l; i++) {\r\n    if (bodiesDom[i].classList.contains('hot')) {\r\n      frA = 0.1;\r\n      oY = -40;\r\n    } else {\r\n      frA = 0;\r\n      oY = 0;\r\n    }\r\n    if (bodiesDom[i].classList.contains('strip')) {\r\n      // Strip\r\n      var body = Bodies.rectangle(\r\n        VIEW.centerX + Math.floor(Math.random() * VIEW.width/2) - VIEW.width/4,\r\n        oY,\r\n        VIEW.width * bodiesDom[i].offsetWidth / window.innerWidth,\r\n        VIEW.height * bodiesDom[i].offsetHeight / window.innerHeight, {\r\n          restitution:      0.05,\r\n          friction:         2,\r\n          frictionAir:      frA,\r\n          frictionStatic:   20,\r\n          density:          100,\r\n          chamfer:          { radius: 4 },\r\n          angle:            (Math.random() * 2.000) - 1.000\r\n        }\r\n      );\r\n    } else if (bodiesDom[i].classList.contains('page-nav')) {\r\n      // Nav\r\n      var body = Bodies.circle(\r\n        VIEW.centerX + Math.floor(Math.random() * VIEW.width/2) - VIEW.width/4,\r\n        0,\r\n        24, {\r\n          restitution:      0.3,\r\n          friction:         2,\r\n          frictionAir:      0,\r\n          frictionStatic:   2,\r\n          density:          100,\r\n          angle:            (Math.random() * 2.000) - 1.000\r\n        }\r\n      );\r\n    }\r\n    bodiesDom[i].id = body.id;\r\n    bodies.push(body);\r\n  }\r\n\r\n  World.add(engine.world, bodies);\r\n\r\n  // add gyro control\r\n  var updateGravity = function(event) {\r\n      var orientation = typeof window.orientation !== 'undefined' ? window.orientation : 0,\r\n          gravity = engine.world.gravity;\r\n\r\n      if (orientation === 0) {\r\n          gravity.x = Common.clamp(event.gamma, -90, 90) / 90;\r\n          gravity.y = Common.clamp(event.beta, -90, 90) / 90;\r\n      } else if (orientation === 180) {\r\n          gravity.x = Common.clamp(event.gamma, -90, 90) / 90;\r\n          gravity.y = Common.clamp(-event.beta, -90, 90) / 90;\r\n      } else if (orientation === 90) {\r\n          gravity.x = Common.clamp(event.beta, -90, 90) / 90;\r\n          gravity.y = Common.clamp(-event.gamma, -90, 90) / 90;\r\n      } else if (orientation === -90) {\r\n          gravity.x = Common.clamp(-event.beta, -90, 90) / 90;\r\n          gravity.y = Common.clamp(event.gamma, -90, 90) / 90;\r\n      }\r\n  };\r\n\r\n  window.addEventListener('deviceorientation', updateGravity);\r\n\r\n  // Add mouse control\r\n\r\n  var mouse = Mouse.create(render.canvas),\r\n      mouseConstraint = MouseConstraint.create(engine, {\r\n      mouse: mouse,\r\n      constraint: {\r\n        stiffness: 1,\r\n        render: {\r\n          visible: false\r\n        }\r\n      }\r\n    });\r\n\r\n  World.add(engine.world, mouseConstraint);\r\n\r\n  // keep the mouse in sync with rendering\r\n  render.mouse = mouse;\r\n\r\n  var mouseX,\r\n      mouseY,\r\n      mouseXO,\r\n      mouseYO,\r\n      mouseXN,\r\n      mouseYN;\r\n\r\n  // Hover\r\n  Events.on(mouseConstraint, \"mousemove\", function(e) {\r\n    mouseX = e.mouse.absolute.x;\r\n    mouseY = e.mouse.absolute.y;\r\n    if (Query.point(bodies, { x: mouseX, y: mouseY }).length) {\r\n      // remove exitsing hovers\r\n      removeHovers();\r\n      // apply new hover\r\n      var underMouse = Query.point(bodies, { x: mouseX, y: mouseY })[0].id;\r\n      document.getElementById(underMouse).className += \" hover\";\r\n      document.body.style.cursor = \"pointer\";\r\n    } else {\r\n      removeHovers();\r\n    }\r\n  });\r\n\r\n  function removeHovers() {\r\n    var hovered = document.getElementsByClassName(\"hover\");\r\n    for (var i = 0; i < hovered.length; i++) {\r\n      hovered[i].classList.remove(\"hover\");\r\n    }\r\n    document.body.style.cursor = \"auto\";\r\n  }\r\n\r\n  // Press (1)\r\n  Events.on(mouseConstraint, \"mousedown\", function(e) {\r\n    mouseXO = e.mouse.absolute.x;\r\n    mouseYO = e.mouse.absolute.y;\r\n  });\r\n  // Press (2), part 1 and 2 checks is not end of drag\r\n  Events.on(mouseConstraint, \"mouseup\", function(e) {\r\n    mouseXN = e.mouse.absolute.x;\r\n    mouseYN = e.mouse.absolute.y;\r\n    if ((mouseXO == mouseXN) && (mouseYO == mouseYN)) {\r\n      if (Query.point(bodies, { x: mouseXN, y: mouseYN }).length) {\r\n        var underMouse = Query.point(bodies, { x: mouseXN, y: mouseYN })[0].id;\r\n      }\r\n      if (underMouse) {\r\n        // go to URL\r\n        window.location.href = document.getElementById(underMouse).getAttribute(\"data-url\");\r\n      }\r\n    }\r\n    removeHovers();\r\n  });\r\n\r\n  window.requestAnimationFrame(update);\r\n\r\n  function update() {\r\n\r\n    // strips\r\n    for (var i = 0, l = bodiesDom.length; i < l; i++) {\r\n      var bodyDom = bodiesDom[i];\r\n      var body = null;\r\n      for (var j = 0, k = bodies.length; j < k; j++) {\r\n        if (bodies[j].id == bodyDom.id) {\r\n          body = bodies[j];\r\n          break;\r\n        }\r\n      }\r\n\r\n      if (body === null) continue;\r\n\r\n      bodyDom.style.transform = \"translate( \" +\r\n        (body.position.x - bodyDom.offsetWidth / 2) +\r\n        \"px, \" +\r\n        (body.position.y - bodyDom.offsetHeight / 2) +\r\n        \"px )\";\r\n      bodyDom.style.transform += \"rotate( \" + body.angle + \"rad )\";\r\n    }\r\n\r\n    window.requestAnimationFrame(update);\r\n  }\r\n\r\n}\r\n\r\nmakeWorld();\r\n\r\nfunction debounce(func, wait, immediate) {\r\n  var timeout;\r\n  return function() {\r\n    var context = this, args = arguments;\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(function() {\r\n      timeout = null;\r\n      if (!immediate) func.apply(context, args);\r\n    }, wait);\r\n    if (immediate && !timeout) func.apply(context, args);\r\n  };\r\n}\r\n\r\nvar refreshWorld = debounce(function() {\r\n  location.reload();\r\n}, 500);\r\n\r\nwindow.addEventListener('resize', refreshWorld);"]},"metadata":{},"sourceType":"module"}